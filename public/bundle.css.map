{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/App.html",
    "../src/components/Footer.html",
    "../src/components/Blog.html",
    "../src/components/Header.html"
  ],
  "sourcesContent": [
    "<:Window bind:innerWidth='appWidth'/>\n\n{{#if !hasConnection}}\n\t<h1 class=\"loading\">Loading...</h1>\n{{else}}\n\t<Header\n\t\theaderStandfirst='{{collatedResults.copy[0].headerstandfirst}}'\n\t\tnewData='{{newData}}'\n\t\tindicateLive='{{collatedResults.copy[0].indicatelive}}'\n\t/>\n\t<div class=\"blog-only-wrapper\">\n\t\t<Blog\n\t\t\tblogData='{{blogData}}'\n\t\t\ton:sendTheHeight='pymUpdateHeight()'\n\t\t/>\n\t</div>\n\t<Footer footnotes='{{collatedResults.copy[0].footnotes}}'/>\n{{/if}}\n\n<style>\n\t.loading {\n\t\ttext-align: center;\n\t}\n</style>\n\n<script>\n\timport Footer from './components/Footer.html';\n\timport Blog from './components/Blog.html';\n\timport Header from './components/Header.html';\n\n\texport default {\n    components: {\n\t\t\tBlog,\n\t\t\tHeader,\n\t\t\tFooter,\n\t\t},\n\n\t\tmethods: {\n\t\t\tpymUpdateHeight: function() {\n\t\t\t\tthis.fire('sendTheHeight');\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\t\t\tcollatedResults: (results, colors) => {\n\t\t\t\tconst restructuredResults = {};\n\t\t\t\trestructuredResults['council'] = results.council;\n\t\t\t\trestructuredResults['honi'] = results.honi;\n\t\t\t\trestructuredResults['nus'] = results.nus;\n\t\t\t\trestructuredResults['pres'] = results.pres;\n\t\t\t\trestructuredResults['copy'] = results.copy;\n\t\t\t\trestructuredResults['colors'] = colors;\n\t\t\t\treturn restructuredResults;\n\t\t\t},\n\t\t\tblogData: results => {\n\t\t\t\tconst restructuredData = {};\n\t\t\t\trestructuredData['blog'] = results.blog;\n\t\t\t\trestructuredData['copy'] = results.copy;\n\t\t\t\treturn restructuredData;\n\t\t\t}\n\t\t}\n  };\n</script>\n",
    "<footer>\n  <div class=\"sans-dark\">{{{footnotes}}}</div>\n</footer>\n\n<style>\n  footer {\n    border-top: 1px solid #eee;\n    margin: 0 1rem 1rem;\n    padding: 1rem;\n  }\n</style>\n",
    "<section class=\"blog-container\">\n  <div class=\"flex-wrapper\">\n    <h2 class=\"blog-heading\">{{ blogData.copy[0].blogtitle }}</h2>\n    <div class=\"stream-container\">\n      {{#each visiblePosts as post @body}}\n        {{#if '1'===post.highlight}}\n          <span class=\"highlight-bar\"></span>\n        {{/if}}\n        <article class=\"blogPost\" transition:fade>\n          <h3 class=\"blogPost-heading\">{{post.heading}}</h3>\n          <p class=\"sans-light\">{{post.meta}}</p>\n          {{{post.body}}}\n        </article>\n      {{/each}}\n      {{#if loadMoreButtonVisible}}\n        <span class=\"button load-more\" on:click='loadMorePosts(visiblePosts, publishedPosts)'>Load more posts</span>\n      {{/if}}\n    </div>\n  </div>\n</section>\n\n<style>\n  .blog-heading {\n    margin-bottom: 0.5rem;\n  }\n  .flex-wrapper {\n    display: flex;\n    flex-direction: column;\n  }\n  .highlight-bar {\n    height: 2px;\n    width: 100%;\n    display: block;\n    position: relative;\n    background-color: red;\n    margin: 0;\n    padding: 0;\n  }\n  .stream-container {\n    overflow-y: scroll;\n    height: 50rem;\n    border-style: solid;\n    border-color: #eee;\n    border-width: 1px 0;\n    align-self: stretch;\n  }\n  .blogPost {\n    background-color: white;\n    margin: 0 0 1rem;\n    padding: 1rem;\n    border: 1px solid #eee;\n  }\n  .blogPost-heading {\n    margin-bottom: 0;\n    padding: 0;\n  }\n  .highlight {\n    background-color: red;\n  }\n  .load-more {\n    text-align: center;\n  }\n</style>\n\n<script>\n  /*\n   * TODO:\n   * Add transitions for the blog posts\n   * Make sure it doesn't remove the oldest of the 20 when a new one comes in live\n   * Test all permutations of what happens when there is no or incorrect spreadsheet content\n   */\n\n  import { fade } from 'svelte-transitions';\n\n  export default {\n    computed: {\n      publishedPosts: blogData => {\n        const withoutUnpublished = blogData.blog.filter((post) => {\n          return '1' === post.published;\n        });\n        const reverseOrder = withoutUnpublished.reverse();\n        return reverseOrder;\n      },\n      // I wonder if this will reduce the number back to twenty on every update\n      // I.e. when we receive an update do we want to check the number of visiblePosts\n      // and do make visible that number + 1 ??\n      visiblePosts: publishedPosts => {\n        // return the most recent 20 posts\n        return publishedPosts.slice(0, 20);\n      },\n      loadMoreButtonVisible: (publishedPosts, visiblePosts) => {\n        return visiblePosts.length == publishedPosts.length ? false : true;\n      }\n    },\n\n    methods: {\n      // SOMETHING HERE IS AN INDEX OFF BY ONE, LOADED POSTS ARE WEIRD\n      loadMorePosts(visiblePosts, publishedPosts) {\n        const newNumberOfPosts = visiblePosts.length + 10;\n        const morePosts = publishedPosts.slice(0, newNumberOfPosts);\n        this.set({ visiblePosts: morePosts });\n        this.fire('sendTheHeight');\n      },\n    },\n\n    transitions: {\n      fade,\n    },\n  }\n</script>\n",
    "<header>\n  <h1>NUS Natcon Live</h1>\n  {{#if '1'===indicateLive}}\n    <div class=\"live-indicator\">\n      <span class=\"live-dot\"></span>\n      <span class=\"live-time\">Live</span>\n    </div>\n  {{/if}}\n  <div class=\"standfirst\">{{{headerStandfirst}}}</div>\n</header>\n\n<style>\n  header {\n    display: block;\n    margin: 1rem auto;\n    width: 100%;\n  }\n\n  @media (min-width: 500px) {\n    header {\n      width: 40%;\n    }\n  }\n\n  @media (min-width: 900px) {\n    header {\n      width: 30%;\n    }\n  }\n\n  .header-logo {\n    display: block;\n    width: 100%;\n    margin: 0 0 1rem;\n    transition: all 1s ease;\n    fill: rgba(51, 51, 51, 1);\n  }\n\n  .live-indicator {\n    display: table;\n    position: relative;\n    margin: 0 auto 1rem;\n  }\n\n  .live-time {\n    color: red;\n    text-transform: uppercase;\n    margin: 0 auto 1rem;\n    padding-left: 1rem;\n  }\n\n  .live-dot {\n      width: 12px;\n      height: 12px;\n      border-radius: 50%;\n      position: absolute;\n      top: 4px;\n      left: 0;\n      animation: pulse 2s infinite;\n      animation-timing-function: ease;\n  }\n\n  @keyframes pulse {\n    0% {\n      background-color: rgba(255, 50, 50, 1);\n    }\n    50% {\n      background-color: rgba(255, 50, 50, 0);\n    }\n    100% {\n      background-color: rgba(255, 50, 50, 1);\n    }\n  }\n</style>\n\n<script>\n  export default {\n    oncreate () {\n      this.observe('newData', (newData) => {\n        if (newData) {\n          const masthead = this.refs.masthead;\n          masthead.style.fill = 'rgba(255, 50, 50, 1)';\n          setTimeout(() => {\n            masthead.style.fill = 'rgba(51, 51, 51, 1)';\n          }, 1500);\n          this.set({'newData': false})\n        }\n      })\n    },\n  }\n</script>\n"
  ],
  "names": [],
  "mappings": "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"
}