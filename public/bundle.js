!function(){"use strict";function e(){}function t(e){for(var t,n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(t in n)e[t]=n[t]}return e}function n(e,t){t.appendChild(e)}function r(e,t,n){t.insertBefore(e,n)}function i(e){e.parentNode.removeChild(e)}function s(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function o(e){return document.createElement(e)}function a(e){return document.createTextNode(e)}function h(){return document.createComment("")}function c(e,t,n){e.addEventListener(t,n,!1)}function l(e,t,n){e.removeEventListener(t,n,!1)}function u(e,t,n){e.setAttribute(t,n)}function f(e){return e}function d(e,t,n,r,i,s){for(var o="{\n",a=0;a<=1;a+=16.666/r)o+=100*a+"%{"+s(e+n*i(a))+"}\n";return o+"100% {"+s(t)+"}\n}"}function p(e){for(var t=5381,n=e.length;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function g(e,t,n,r,i,s){var a,h=n(t,r),c=h.duration||300,l=h.easing||f;if(h.css&&!Co.stylesheet){var u=o("style");document.head.appendChild(u),Co.stylesheet=u.sheet}return i&&(h.css&&h.delay&&(a=t.style.cssText,t.style.cssText+=h.css(0)),h.tick&&h.tick(0)),{t:i?0:1,running:!1,program:null,pending:null,run:function(e,t){var n={start:window.performance.now()+(h.delay||0),intro:e,callback:t};h.delay?this.pending=n:this.start(n),this.running||(this.running=!0,Co.add(this))},start:function(n){e.fire(n.intro?"intro.start":"outro.start",{node:t}),n.a=this.t,n.b=n.intro?1:0,n.delta=n.b-n.a,n.duration=c*Math.abs(n.b-n.a),n.end=n.start+n.duration,h.css&&(h.delay&&(t.style.cssText=a),n.rule=d(n.a,n.b,n.delta,n.duration,l,h.css),Co.addRule(n.rule,n.name="__svelte_"+p(n.rule)),t.style.animation=(t.style.animation||"").split(", ").filter(function(e){return e&&(n.delta<0||!/__svelte/.test(e))}).concat(n.name+" "+c+"ms linear 1 forwards").join(", ")),this.program=n,this.pending=null},update:function(e){var t=this.program;if(t){var n=e-t.start;this.t=t.a+t.delta*l(n/t.duration),h.tick&&h.tick(this.t)}},done:function(){var e=this.program;this.t=e.b,h.tick&&h.tick(this.t),h.css&&Co.deleteRule(t,e.name),e.callback(),e=null,this.running=!!this.pending},abort:function(){h.tick&&h.tick(1),h.css&&Co.deleteRule(t,this.program.name),this.program=this.pending=null,this.running=!1}}}function m(e,t){return e!==t||e&&"object"==typeof e||"function"==typeof e}function y(e,t,n,r){for(var i in t)if(i in n){var s=n[i],o=r[i];if(m(s,o)){var a=t[i];if(!a)continue;for(var h=0;h<a.length;h+=1){var c=a[h];c.__calling||(c.__calling=!0,c.call(e,s,o),c.__calling=!1)}}}}function _(e){for(;e&&e.length;)e.pop()()}function v(e){u(e,"svelte-2832525298","")}function b(t,a){var h,c,l,u,f;return{create:function(){h=o("footer"),c=o("div"),u=o("noscript"),f=o("noscript"),this.hydrate()},hydrate:function(e){v(h),c.className="sans-dark"},mount:function(e,i){r(h,e,i),n(c,h),n(u,c),n(f,c),u.insertAdjacentHTML("afterend",l=t.footnotes)},update:function(e,t){l!==(l=t.footnotes)&&(s(u,f),u.insertAdjacentHTML("afterend",l=t.footnotes))},unmount:function(){s(u,f),i(h)},destroy:e}}function w(e){e=e||{},this._state=e.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=e._root||this,this._yield=e._yield,this._destroyed=!1,this._fragment=b(this._state,this),e.target&&(this._fragment.create(),this._fragment.mount(e.target,null))}function k(e,t){var n=t.delay;void 0===n&&(n=0);var r=t.duration;void 0===r&&(r=400);var i=+getComputedStyle(e).opacity;return{delay:n,duration:r,css:function(e){return"opacity: "+e*i}}}function E(e,t,n,r){(r||"blogData"in t&&m(e.blogData,n.blogData))&&(e.publishedPosts=t.publishedPosts=No.computed.publishedPosts(e.blogData)),(r||"publishedPosts"in t&&m(e.publishedPosts,n.publishedPosts))&&(e.visiblePosts=t.visiblePosts=No.computed.visiblePosts(e.publishedPosts)),(r||"publishedPosts"in t&&m(e.publishedPosts,n.publishedPosts)||"visiblePosts"in t&&m(e.visiblePosts,n.visiblePosts))&&(e.loadMoreButtonVisible=t.loadMoreButtonVisible=No.computed.loadMoreButtonVisible(e.publishedPosts,e.visiblePosts))}function x(e){u(e,"svelte-1168544544","")}function S(e,t){function s(e){e.outro(function(){e.unmount(),e.destroy(),_[e.key]=null})}for(var h,c,l,u,f,d,p,g,m,y,_=Object.create(null),v=e.visiblePosts,b=0;b<v.length;b+=1){var w=v[b].body,k=_[w]=T(e,v,v[b],b,t,w);m&&(m.next=k),k.last=m,m=k,0===b&&(g=k)}var E=e.loadMoreButtonVisible&&A(e,t);return{create:function(){h=o("section"),c=o("div"),l=o("h2"),f=a(u=e.blogData.copy[0].blogtitle),d=a("\n    "),p=o("div");for(var t=g;t;)t.create(),t=t.next;y=a("\n      "),E&&E.create(),this.hydrate()},hydrate:function(e){h.className="blog-container",x(c),c.className="flex-wrapper",x(l),l.className="blog-heading",x(p),p.className="stream-container"},mount:function(e,t){r(h,e,t),n(c,h),n(l,c),n(f,l),n(d,c),n(p,c);for(var i=g;i;)i.intro(p,null),i=i.next;n(y,p),E&&E.mount(p,null)},update:function(e,n){u!==(u=n.blogData.copy[0].blogtitle)&&(f.data=u);var r=n.visiblePosts,i=g,o=null,a=[];for(b=0;b<r.length;b+=1){var h=r[b].body,c=_[h];if(c&&c.update(e,n,r,r[b],b),i)if(h===i.key)i=i.next;else if(c){for(;i&&i.key!==h;)i.discard=!0,a.push(i),i=i.next;i=i&&i.next,c.discard=!1,c.last=o,i||c.mount(p,y)}else(c=_[h]=T(n,r,r[b],b,t,h)).create(),c.intro(p,i.first),i.last=c,c.next=i;else c?(c.discard=!1,c.next=null,c.mount(p,y)):((c=_[h]=T(n,r,r[b],b,t,h)).create(),c.intro(p,y));o&&(o.next=c),c.last=o,c.intro(p,y),o=c}for(o&&(o.next=null);i;)s(i),i=i.next;for(b=0;b<a.length;b+=1)a[b].discard&&s(a[b]);g=_[r[0]&&r[0].body],n.loadMoreButtonVisible?E||((E=A(n,t)).create(),E.mount(p,null)):E&&(E.unmount(),E.destroy(),E=null)},unmount:function(){i(h),E&&E.unmount()},destroy:function(){for(var e=g;e;)e.destroy(!1),e=e.next;E&&E.destroy()}}}function T(e,t,c,l,u,f){var d,p,m,y,_,v,b,w,k,E,S,T,A,C,O,N,L,P="1"===c.highlight&&R(e,t,c,l,u);return{key:f,first:null,create:function(){d=h(),P&&P.create(),p=a("\n        "),m=o("article"),_=o("h3"),b=a(v=c.heading),w=a("\n          "),k=o("p"),S=a(E=c.meta),T=a("\n          "),C=o("noscript"),O=o("noscript"),this.hydrate()},hydrate:function(e){x(m),m.className="blogPost",x(_),_.className="blogPost-heading",k.className="sans-light",this.first=d},mount:function(e,t){r(d,e,t),P&&P.mount(e,t),r(p,e,t),r(m,e,t),n(_,m),n(b,_),n(w,m),n(k,m),n(S,k),n(T,m),n(C,m),n(O,m),C.insertAdjacentHTML("afterend",A=c.body)},update:function(e,t,n,r,i){"1"===r.highlight?P||((P=R(t,n,r,i,u)).create(),P.mount(p.parentNode,p)):P&&(P.unmount(),P.destroy(),P=null),v!==(v=r.heading)&&(b.data=v),E!==(E=r.meta)&&(S.data=E),A!==(A=r.body)&&(s(C,O),C.insertAdjacentHTML("afterend",A=r.body))},intro:function(e,t){N||(N=!0,L=!1,u._root._aftercreate.push(function(){y||(y=g(u,m,No.transitions.fade,{},!0,null)),y.run(!0,function(){u.fire("intro.end",{node:m})})}),this.mount(e,t))},outro:function(e){if(!L){L=!0,N=!1;var t=1;y.run(!1,function(){u.fire("outro.end",{node:m}),0==--t&&e(),y=null})}},unmount:function(){s(C,O),i(d),P&&P.unmount(),i(p),i(m)},destroy:function(){P&&P.destroy()}}}function R(t,n,s,a,h,c){var l;return{key:c,create:function(){l=o("span"),this.hydrate()},hydrate:function(e){x(l),l.className="highlight-bar"},mount:function(e,t){r(l,e,t)},unmount:function(){i(l)},destroy:e}}function A(e,t){function s(e){var n=t.get();t.loadMorePosts(n.visiblePosts,n.publishedPosts)}var h,u;return{create:function(){h=o("span"),u=a("Load more posts"),this.hydrate()},hydrate:function(e){x(h),h.className="button load-more",c(h,"click",s)},mount:function(e,t){r(h,e,t),n(u,h)},unmount:function(){i(h)},destroy:function(){l(h,"click",s)}}}function C(e){e=e||{},this._state=e.data||{},E(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=e._root||this,this._yield=e._yield,this._destroyed=!1,e._root||(this._oncreate=[],this._aftercreate=[]),this._fragment=S(this._state,this),e.target&&(this._fragment.create(),this._fragment.mount(e.target,null)),e._root||_(this._aftercreate)}function O(e){u(e,"svelte-2421529504","")}function N(e,t){var h,c,l,u,f,d,p,g,m,y="1"===e.indicateLive&&L(e,t);return{create:function(){h=o("header"),c=o("h1"),l=a("NUS Natcon Live"),u=a("\n  "),y&&y.create(),f=a("\n  "),d=o("div"),g=o("noscript"),m=o("noscript"),this.hydrate()},hydrate:function(e){O(h),O(c),O(d),d.className="standfirst"},mount:function(t,i){r(h,t,i),n(c,h),n(l,c),n(u,h),y&&y.mount(h,null),n(f,h),n(d,h),n(g,d),n(m,d),g.insertAdjacentHTML("afterend",p=e.headerStandfirst)},update:function(e,n){"1"===n.indicateLive?y||((y=L(n,t)).create(),y.mount(h,f)):y&&(y.unmount(),y.destroy(),y=null),p!==(p=n.headerStandfirst)&&(s(g,m),g.insertAdjacentHTML("afterend",p=n.headerStandfirst))},unmount:function(){s(g,m),i(h),y&&y.unmount()},destroy:function(){y&&y.destroy()}}}function L(t,s){var h,c,l,u,f;return{create:function(){h=o("div"),c=o("span"),l=a("\n      "),u=o("span"),f=a("Live"),this.hydrate()},hydrate:function(e){O(h),h.className="live-indicator",O(c),c.className="live-dot",O(u),u.className="live-time"},mount:function(e,t){r(h,e,t),n(c,h),n(l,h),n(u,h),n(f,u)},unmount:function(){i(h)},destroy:e}}function P(e){e=e||{},this._state=e.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=e._root||this,this._yield=e._yield,this._destroyed=!1;var t=Lo.oncreate.bind(this);e._root?this._root._oncreate.push(t):this._oncreate=[t],this._fragment=N(this._state,this),e.target&&(this._fragment.create(),this._fragment.mount(e.target,null)),e._root||_(this._oncreate)}function B(e,t,n,r){(r||"results"in t&&m(e.results,n.results)||"colors"in t&&m(e.colors,n.colors))&&(e.collatedResults=t.collatedResults=Po.computed.collatedResults(e.results,e.colors)),(r||"results"in t&&m(e.results,n.results))&&(e.blogData=t.blogData=Po.computed.blogData(e.results))}function M(e){u(e,"svelte-174824464","")}function I(e,t){function n(e){t.set({appWidth:this.innerWidth})}function s(e){return e.hasConnection?U:D}var o,c;window.addEventListener("resize",n);var l=s(e),u=l(e,t);return{create:function(){o=a("\n\n"),u.create(),c=h()},mount:function(e,t){r(o,e,t),u.mount(e,t),r(c,e,t)},update:function(e,n){l===(l=s(n))&&u?u.update(e,n):(u.unmount(),u.destroy(),(u=l(n,t)).create(),u.mount(c.parentNode,c))},unmount:function(){i(o),u.unmount(),i(c)},destroy:function(){window.removeEventListener("resize",n),u.destroy()}}}function D(t,s){var h,c;return{create:function(){h=o("h1"),c=a("Loading..."),this.hydrate()},hydrate:function(e){M(h),h.className="loading"},mount:function(e,t){r(h,e,t),n(c,h)},update:e,unmount:function(){i(h)},destroy:e}}function U(e,t){var n,s,h,c=new P({_root:t._root,data:{headerStandfirst:e.collatedResults.copy[0].headerstandfirst,newData:e.newData,indicateLive:e.collatedResults.copy[0].indicatelive}}),l=new C({_root:t._root,data:{blogData:e.blogData}});l.on("sendTheHeight",function(e){t.pymUpdateHeight()});var u=new w({_root:t._root,data:{footnotes:e.collatedResults.copy[0].footnotes}});return{create:function(){c._fragment.create(),n=a("\n\t"),s=o("div"),l._fragment.create(),h=a("\n\t"),u._fragment.create(),this.hydrate()},hydrate:function(e){s.className="blog-only-wrapper"},mount:function(e,t){c._fragment.mount(e,t),r(n,e,t),r(s,e,t),l._fragment.mount(s,null),r(h,e,t),u._fragment.mount(e,t)},update:function(e,t){var n={};"collatedResults"in e&&(n.headerStandfirst=t.collatedResults.copy[0].headerstandfirst),"newData"in e&&(n.newData=t.newData),"collatedResults"in e&&(n.indicateLive=t.collatedResults.copy[0].indicatelive),Object.keys(n).length&&c._set(n);var r={};"blogData"in e&&(r.blogData=t.blogData),Object.keys(r).length&&l._set(r);var i={};"collatedResults"in e&&(i.footnotes=t.collatedResults.copy[0].footnotes),Object.keys(i).length&&u._set(i)},unmount:function(){c._fragment.unmount(),i(n),i(s),i(h),u._fragment.unmount()},destroy:function(){c.destroy(!1),l.destroy(!1),u.destroy(!1)}}}function z(e){e=e||{},this._state=e.data||{},this._state.appWidth=window.innerWidth,B(this._state,this._state,{},!0),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=e._root||this,this._yield=e._yield,this._destroyed=!1,e._root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=I(this._state,this),e.target&&(this._fragment.create(),this._fragment.mount(e.target,null)),e._root||(this._lock=!0,_(this._beforecreate),_(this._oncreate),_(this._aftercreate),this._lock=!1)}function j(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function q(e,t){return t={exports:{}},e(t,t.exports),t.exports}function H(){throw new Error("setTimeout has not been defined")}function F(){throw new Error("clearTimeout has not been defined")}function Z(e){if(Uo===setTimeout)return setTimeout(e,0);if((Uo===H||!Uo)&&setTimeout)return Uo=setTimeout,setTimeout(e,0);try{return Uo(e,0)}catch(t){try{return Uo.call(null,e,0)}catch(t){return Uo.call(this,e,0)}}}function W(e){if(zo===clearTimeout)return clearTimeout(e);if((zo===F||!zo)&&clearTimeout)return zo=clearTimeout,clearTimeout(e);try{return zo(e)}catch(t){try{return zo.call(null,e)}catch(t){return zo.call(this,e)}}}function Y(){Ho&&jo&&(Ho=!1,jo.length?qo=jo.concat(qo):Fo=-1,qo.length&&V())}function V(){if(!Ho){var e=Z(Y);Ho=!0;for(var t=qo.length;t;){for(jo=qo,qo=[];++Fo<t;)jo&&jo[Fo].run();Fo=-1,t=qo.length}jo=null,Ho=!1,W(e)}}function G(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];qo.push(new $(e,t)),1!==qo.length||Ho||Z(V)}function $(e,t){this.fun=e,this.array=t}function X(){}function K(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*la;case"days":case"day":case"d":return n*ca;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ha;case"minutes":case"minute":case"mins":case"min":case"m":return n*aa;case"seconds":case"second":case"secs":case"sec":case"s":return n*oa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function J(e){return e>=ca?Math.round(e/ca)+"d":e>=ha?Math.round(e/ha)+"h":e>=aa?Math.round(e/aa)+"m":e>=oa?Math.round(e/oa)+"s":e+"ms"}function Q(e){return ee(e,ca,"day")||ee(e,ha,"hour")||ee(e,aa,"minute")||ee(e,oa,"second")||e+" ms"}function ee(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}function te(){return!1}function ne(){throw new Error("tty.ReadStream is not implemented")}function re(){throw new Error("tty.ReadStream is not implemented")}function ie(){va=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)ma[t]=e[t],ya[e.charCodeAt(t)]=t;ya["-".charCodeAt(0)]=62,ya["_".charCodeAt(0)]=63}function se(e){va||ie();var t,n,r,i,s,o,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[a-2]?2:"="===e[a-1]?1:0,o=new _a(3*a/4-s),r=s>0?a-4:a;var h=0;for(t=0,n=0;t<r;t+=4,n+=3)i=ya[e.charCodeAt(t)]<<18|ya[e.charCodeAt(t+1)]<<12|ya[e.charCodeAt(t+2)]<<6|ya[e.charCodeAt(t+3)],o[h++]=i>>16&255,o[h++]=i>>8&255,o[h++]=255&i;return 2===s?(i=ya[e.charCodeAt(t)]<<2|ya[e.charCodeAt(t+1)]>>4,o[h++]=255&i):1===s&&(i=ya[e.charCodeAt(t)]<<10|ya[e.charCodeAt(t+1)]<<4|ya[e.charCodeAt(t+2)]>>2,o[h++]=i>>8&255,o[h++]=255&i),o}function oe(e){return ma[e>>18&63]+ma[e>>12&63]+ma[e>>6&63]+ma[63&e]}function ae(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(oe(r));return i.join("")}function he(e){va||ie();for(var t,n=e.length,r=n%3,i="",s=[],o=0,a=n-r;o<a;o+=16383)s.push(ae(e,o,o+16383>a?a:o+16383));return 1===r?(t=e[n-1],i+=ma[t>>2],i+=ma[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=ma[t>>10],i+=ma[t>>4&63],i+=ma[t<<2&63],i+="="),s.push(i),s.join("")}function ce(e,t,n,r,i){var s,o,a=8*i-r-1,h=(1<<a)-1,c=h>>1,l=-7,u=n?i-1:0,f=n?-1:1,d=e[t+u];for(u+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+e[t+u],u+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+e[t+u],u+=f,l-=8);if(0===s)s=1-c;else{if(s===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=c}return(d?-1:1)*o*Math.pow(2,s-r)}function le(e,t,n,r,i,s){var o,a,h,c=8*s-i-1,l=(1<<c)-1,u=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-o))<1&&(o--,h*=2),(t+=o+u>=1?f/h:f*Math.pow(2,1-u))*h>=2&&(o++,h/=2),o+u>=l?(a=0,o=l):o+u>=1?(a=(t*h-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*g}function ue(){return de.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function fe(e,t){if(ue()<t)throw new RangeError("Invalid typed array length");return de.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=de.prototype:(null===e&&(e=new de(t)),e.length=t),e}function de(e,t,n){if(!(de.TYPED_ARRAY_SUPPORT||this instanceof de))return new de(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return ye(this,e)}return pe(this,e,t,n)}function pe(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?be(e,t,n,r):"string"==typeof t?_e(e,t,n):we(e,t)}function ge(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function me(e,t,n,r){return ge(t),t<=0?fe(e,t):void 0!==n?"string"==typeof r?fe(e,t).fill(n,r):fe(e,t).fill(n):fe(e,t)}function ye(e,t){if(ge(t),e=fe(e,t<0?0:0|ke(t)),!de.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function _e(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!de.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|xe(t,n),i=(e=fe(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function ve(e,t){var n=t.length<0?0:0|ke(t.length);e=fe(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function be(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),de.TYPED_ARRAY_SUPPORT?(e=t).__proto__=de.prototype:e=ve(e,t),e}function we(e,t){if(Ee(t)){var n=0|ke(t.length);return 0===(e=fe(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||rt(t.length)?fe(e,0):ve(e,t);if("Buffer"===t.type&&wa(t.data))return ve(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ke(e){if(e>=ue())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ue().toString(16)+" bytes");return 0|e}function Ee(e){return!(null==e||!e._isBuffer)}function xe(e,t){if(Ee(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Je(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return tt(e).length;default:if(r)return Je(e).length;t=(""+t).toLowerCase(),r=!0}}function Se(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return je(this,t,n);case"utf8":case"utf-8":return Ie(this,t,n);case"ascii":return Ue(this,t,n);case"latin1":case"binary":return ze(this,t,n);case"base64":return Me(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qe(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function Te(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Re(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=de.from(t,r)),Ee(t))return 0===t.length?-1:Ae(e,t,n,r,i);if("number"==typeof t)return t&=255,de.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Ae(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Ae(e,t,n,r,i){function s(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,a=e.length,h=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,h/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<a;c++)if(s(e,c)===s(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===h)return l*o}else-1!==l&&(c-=c-l),l=-1}else for(n+h>a&&(n=a-h),c=n;c>=0;c--){for(var u=!0,f=0;f<h;f++)if(s(e,c+f)!==s(t,f)){u=!1;break}if(u)return c}return-1}function Ce(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function Oe(e,t,n,r){return nt(Je(t,e.length-n),e,n,r)}function Ne(e,t,n,r){return nt(Qe(t),e,n,r)}function Le(e,t,n,r){return Ne(e,t,n,r)}function Pe(e,t,n,r){return nt(tt(t),e,n,r)}function Be(e,t,n,r){return nt(et(t,e.length-n),e,n,r)}function Me(e,t,n){return he(0===t&&n===e.length?e:e.slice(t,n))}function Ie(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s=e[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=n){var h,c,l,u;switch(a){case 1:s<128&&(o=s);break;case 2:128==(192&(h=e[i+1]))&&(u=(31&s)<<6|63&h)>127&&(o=u);break;case 3:h=e[i+1],c=e[i+2],128==(192&h)&&128==(192&c)&&(u=(15&s)<<12|(63&h)<<6|63&c)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:h=e[i+1],c=e[i+2],l=e[i+3],128==(192&h)&&128==(192&c)&&128==(192&l)&&(u=(15&s)<<18|(63&h)<<12|(63&c)<<6|63&l)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return De(r)}function De(e){var t=e.length;if(t<=Ea)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Ea));return n}function Ue(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function ze(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function je(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=Ke(e[s]);return i}function qe(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function He(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Fe(e,t,n,r,i,s){if(!Ee(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Ze(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function We(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Ye(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Ve(e,t,n,r,i){return i||Ye(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),le(e,t,n,r,23,4),n+4}function Ge(e,t,n,r,i){return i||Ye(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),le(e,t,n,r,52,8),n+8}function $e(e){if((e=Xe(e).replace(Ta,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function Xe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Ke(e){return e<16?"0"+e.toString(16):e.toString(16)}function Je(e,t){t=t||1/0;for(var n,r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function Qe(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function et(e,t){for(var n,r,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,s.push(i),s.push(r);return s}function tt(e){return se($e(e))}function nt(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function rt(e){return e!==e}function it(e){return null!=e&&(!!e._isBuffer||st(e)||ot(e))}function st(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function ot(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&st(e.slice(0,0))}function at(e){if(!St(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(lt(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,s=String(e).replace(Ca,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),o=r[n];n<i;o=r[++n])kt(o)||!Ct(o)?s+=" "+o:s+=" "+lt(o);return s}function ht(e,t){if(Rt(Bo.process))return function(){return ht(e,t).apply(this,arguments)};if(!0===sa.noDeprecation)return e;var n=!1;return function(){if(!n){if(sa.throwDeprecation)throw new Error(t);sa.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}}function ct(e){if(Rt(Sa)&&(Sa=sa.env.NODE_DEBUG||""),e=e.toUpperCase(),!Oa[e])if(new RegExp("\\b"+e+"\\b","i").test(Sa)){Oa[e]=function(){var t=at.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else Oa[e]=function(){};return Oa[e]}function lt(e,t){var n={seen:[],stylize:ft};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),wt(t)?n.showHidden=t:t&&zt(n,t),Rt(n.showHidden)&&(n.showHidden=!1),Rt(n.depth)&&(n.depth=2),Rt(n.colors)&&(n.colors=!1),Rt(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=ut),pt(n,e,n.depth)}function ut(e,t){var n=lt.styles[t];return n?"["+lt.colors[n][0]+"m"+e+"["+lt.colors[n][1]+"m":e}function ft(e,t){return e}function dt(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function pt(e,t,n){if(e.customInspect&&t&&Lt(t.inspect)&&t.inspect!==lt&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return St(r)||(r=pt(e,r,n)),r}var i=gt(e,t);if(i)return i;var s=Object.keys(t),o=dt(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),Nt(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return mt(t);if(0===s.length){if(Lt(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(At(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ot(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Nt(t))return mt(t)}var h="",c=!1,l=["{","}"];if(bt(t)&&(c=!0,l=["[","]"]),Lt(t)&&(h=" [Function"+(t.name?": "+t.name:"")+"]"),At(t)&&(h=" "+RegExp.prototype.toString.call(t)),Ot(t)&&(h=" "+Date.prototype.toUTCString.call(t)),Nt(t)&&(h=" "+mt(t)),0===s.length&&(!c||0==t.length))return l[0]+h+l[1];if(n<0)return At(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var u;return u=c?yt(e,t,n,o,s):s.map(function(r){return _t(e,t,n,o,r,c)}),e.seen.pop(),vt(u,h,l)}function gt(e,t){if(Rt(t))return e.stylize("undefined","undefined");if(St(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return xt(t)?e.stylize(""+t,"number"):wt(t)?e.stylize(""+t,"boolean"):kt(t)?e.stylize("null","null"):void 0}function mt(e){return"["+Error.prototype.toString.call(e)+"]"}function yt(e,t,n,r,i){for(var s=[],o=0,a=t.length;o<a;++o)jt(t,String(o))?s.push(_t(e,t,n,r,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(_t(e,t,n,r,i,!0))}),s}function _t(e,t,n,r,i,s){var o,a,h;if((h=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=h.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):h.set&&(a=e.stylize("[Setter]","special")),jt(r,i)||(o="["+i+"]"),a||(e.seen.indexOf(h.value)<0?(a=kt(n)?pt(e,h.value,null):pt(e,h.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),Rt(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function vt(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function bt(e){return Array.isArray(e)}function wt(e){return"boolean"==typeof e}function kt(e){return null===e}function Et(e){return null==e}function xt(e){return"number"==typeof e}function St(e){return"string"==typeof e}function Tt(e){return"symbol"==typeof e}function Rt(e){return void 0===e}function At(e){return Ct(e)&&"[object RegExp]"===Mt(e)}function Ct(e){return"object"==typeof e&&null!==e}function Ot(e){return Ct(e)&&"[object Date]"===Mt(e)}function Nt(e){return Ct(e)&&("[object Error]"===Mt(e)||e instanceof Error)}function Lt(e){return"function"==typeof e}function Pt(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Bt(e){return it(e)}function Mt(e){return Object.prototype.toString.call(e)}function It(e){return e<10?"0"+e.toString(10):e.toString(10)}function Dt(){var e=new Date,t=[It(e.getHours()),It(e.getMinutes()),It(e.getSeconds())].join(":");return[e.getDate(),Na[e.getMonth()],t].join(" ")}function Ut(){console.log("%s - %s",Dt(),at.apply(null,arguments))}function zt(e,t){if(!t||!Ct(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qt(e){if(!e||"object"!=typeof e)return!1;if(Wa(e)){for(var t=0,n=e.length;t<n;t++)if(qt(e[t]))return!0;return!1}if("function"==typeof Bo.Buffer&&Bo.Buffer.isBuffer&&Bo.Buffer.isBuffer(e)||"function"==typeof Bo.ArrayBuffer&&e instanceof ArrayBuffer||Va&&e instanceof Blob||Ga&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return qt(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&qt(e[r]))return!0;return!1}function Ht(e,t){if(!e)return e;if(Ja(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Ka(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=Ht(e[i],t);return r}if("object"==typeof e&&!(e instanceof Date)){r={};for(var s in e)r[s]=Ht(e[s],t);return r}return e}function Ft(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Ka(e))for(var n=0;n<e.length;n++)e[n]=Ft(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=Ft(e[r],t);return e}function Zt(e){throw new RangeError(gh[e])}function Wt(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function Yt(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+Wt((e=e.replace(ph,".")).split("."),t).join(".")}function Vt(e){for(var t,n,r=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function Gt(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function $t(e,t,n){var r=0;for(e=n?yh(e/ch):e>>1,e+=yh(e/t);e>mh*ah>>1;r+=sh)e=yh(e/mh);return yh(r+(mh+1)*e/(e+hh))}function Xt(e){var t,n,r,i,s,o,a,h,c,l,u,f,d,p,g,m=[];for(f=(e=Vt(e)).length,t=uh,n=0,s=lh,o=0;o<f;++o)(u=e[o])<128&&m.push(_h(u));for(r=i=m.length,i&&m.push(fh);r<f;){for(a=ih,o=0;o<f;++o)(u=e[o])>=t&&u<a&&(a=u);for(a-t>yh((ih-n)/(d=r+1))&&Zt("overflow"),n+=(a-t)*d,t=a,o=0;o<f;++o)if((u=e[o])<t&&++n>ih&&Zt("overflow"),u==t){for(h=n,c=sh;l=c<=s?oh:c>=s+ah?ah:c-s,!(h<l);c+=sh)g=h-l,p=sh-l,m.push(_h(Gt(l+g%p,0))),h=yh(g/p);m.push(_h(Gt(h,0))),s=$t(n,d,r==i),n=0,++r}++n,++t}return m.join("")}function Kt(e){return Yt(e,function(e){return dh.test(e)?"xn--"+Xt(e):e})}function Jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qt(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function en(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?tn(bh(e),function(r){var i=encodeURIComponent(Qt(r))+n;return vh(e[r])?tn(e[r],function(e){return i+encodeURIComponent(Qt(e))}).join(t):i+encodeURIComponent(Qt(e[r]))}).join(t):r?encodeURIComponent(Qt(r))+n+encodeURIComponent(Qt(e)):""}function tn(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}function nn(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var h=0;h<a;++h){var c,l,u,f,d=e[h].replace(s,"%20"),p=d.indexOf(n);p>=0?(c=d.substr(0,p),l=d.substr(p+1)):(c=d,l=""),u=decodeURIComponent(c),f=decodeURIComponent(l),Jt(i,u)?vh(i[u])?i[u].push(f):i[u]=[i[u],f]:i[u]=f}return i}function rn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function sn(e,t,n){if(e&&Ct(e)&&e instanceof rn)return e;var r=new rn;return r.parse(e,t,n),r}function on(e,t,n,r){if(!St(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",o=t.split(s),a=/\\/g;o[0]=o[0].replace(a,"/");var h=t=o.join(s);if(h=h.trim(),!r&&1===t.split("#").length){var c=xh.exec(h);if(c)return e.path=h,e.href=h,e.pathname=c[1],c[2]?(e.search=c[2],e.query=n?nn(e.search.substr(1)):e.search.substr(1)):n&&(e.search="",e.query={}),e}var l=kh.exec(h);if(l){var u=(l=l[0]).toLowerCase();e.protocol=u,h=h.substr(l.length)}if(r||l||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===h.substr(0,2);!f||l&&Bh[l]||(h=h.substr(2),e.slashes=!0)}var d,p,g,m;if(!Bh[l]&&(f||l&&!Mh[l])){var y=-1;for(d=0;d<Ch.length;d++)-1!==(p=h.indexOf(Ch[d]))&&(-1===y||p<y)&&(y=p);var _,v;for(-1!==(v=-1===y?h.lastIndexOf("@"):h.lastIndexOf("@",y))&&(_=h.slice(0,v),h=h.slice(v+1),e.auth=decodeURIComponent(_)),y=-1,d=0;d<Ah.length;d++)-1!==(p=h.indexOf(Ah[d]))&&(-1===y||p<y)&&(y=p);-1===y&&(y=h.length),e.host=h.slice(0,y),h=h.slice(y),un(e),e.hostname=e.hostname||"";var b="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!b){var w=e.hostname.split(/\./);for(d=0,g=w.length;d<g;d++){var k=w[d];if(k&&!k.match(Nh)){for(var E="",x=0,S=k.length;x<S;x++)k.charCodeAt(x)>127?E+="x":E+=k[x];if(!E.match(Nh)){var T=w.slice(0,d),R=w.slice(d+1),A=k.match(Lh);A&&(T.push(A[1]),R.unshift(A[2])),R.length&&(h="/"+R.join(".")+h),e.hostname=T.join(".");break}}}}e.hostname.length>Oh?e.hostname="":e.hostname=e.hostname.toLowerCase(),b||(e.hostname=Kt(e.hostname)),m=e.port?":"+e.port:"";var C=e.hostname||"";e.host=C+m,e.href+=e.host,b&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!Ph[u])for(d=0,g=Rh.length;d<g;d++){var O=Rh[d];if(-1!==h.indexOf(O)){var N=encodeURIComponent(O);N===O&&(N=escape(O)),h=h.split(O).join(N)}}var L=h.indexOf("#");-1!==L&&(e.hash=h.substr(L),h=h.slice(0,L));var P=h.indexOf("?");if(-1!==P?(e.search=h.substr(P),e.query=h.substr(P+1),n&&(e.query=nn(e.query)),h=h.slice(0,P)):n&&(e.search="",e.query={}),h&&(e.pathname=h),Mh[u]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){m=e.pathname||"";var B=e.search||"";e.path=m+B}return e.href=hn(e),e}function an(e){return St(e)&&(e=on({},e)),hn(e)}function hn(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var n=e.protocol||"",r=e.pathname||"",i=e.hash||"",s=!1,o="";e.host?s=t+e.host:e.hostname&&(s=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(s+=":"+e.port)),e.query&&Ct(e.query)&&Object.keys(e.query).length&&(o=en(e.query));var a=e.search||o&&"?"+o||"";return n&&":"!==n.substr(-1)&&(n+=":"),e.slashes||(!n||Mh[n])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),n+s+r+a+i}function cn(e,t){return sn(e,!1,!0).resolve(t)}function ln(e,t){return e?sn(e,!1,!0).resolveObject(t):t}function un(e){var t=e.host,n=Eh.exec(t);n&&(":"!==(n=n[0])&&(e.port=n.substr(1)),t=t.substr(0,t.length-n.length)),t&&(e.hostname=t)}function fn(){if(void 0!==Ih)return Ih;try{new Bo.Blob([new ArrayBuffer(1)]),Ih=!0}catch(e){Ih=!1}return Ih}function dn(e){Dh||(Dh=new Bo.XMLHttpRequest).open("GET",Bo.location.host?"/":"https://example.com");try{return Dh.responseType=e,Dh.responseType===e}catch(e){return!1}}function pn(e){return"function"==typeof e}function gn(){}function mn(){mn.init.call(this)}function yn(e){return void 0===e._maxListeners?mn.defaultMaxListeners:e._maxListeners}function _n(e,t,n){if(t)e.call(n);else for(var r=e.length,i=An(e,r),s=0;s<r;++s)i[s].call(n)}function vn(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,s=An(e,i),o=0;o<i;++o)s[o].call(n,r)}function bn(e,t,n,r,i){if(t)e.call(n,r,i);else for(var s=e.length,o=An(e,s),a=0;a<s;++a)o[a].call(n,r,i)}function wn(e,t,n,r,i,s){if(t)e.call(n,r,i,s);else for(var o=e.length,a=An(e,o),h=0;h<o;++h)a[h].call(n,r,i,s)}function kn(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,s=An(e,i),o=0;o<i;++o)s[o].apply(n,r)}function En(e,t,n,r){var i,s,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]):(s=e._events=new gn,e._eventsCount=0),o){if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=yn(e))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,xn(a)}}else o=s[t]=n,++e._eventsCount;return e}function xn(e){"function"==typeof console.warn?console.warn(e):console.log(e)}function Sn(e,t,n){function r(){e.removeListener(t,r),i||(i=!0,n.apply(e,arguments))}var i=!1;return r.listener=n,r}function Tn(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Rn(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function An(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function Cn(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function On(){this.head=null,this.tail=null,this.length=0}function Nn(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Ln(e){var t=Nn(e);if("string"!=typeof t&&($h.isEncoding===Xh||!Xh(e)))throw new Error("Unknown encoding: "+e);return t||e}function Pn(e){this.encoding=Ln(e);var t;switch(this.encoding){case"utf16le":this.text=Un,this.end=zn,t=4;break;case"utf8":this.fillLast=Dn,t=4;break;case"base64":this.text=jn,this.end=qn,t=3;break;default:return this.write=Hn,void(this.end=Fn)}this.lastNeed=0,this.lastTotal=0,this.lastChar=$h.allocUnsafe(t)}function Bn(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function Mn(e,t,n){var r=t.length-1;if(r<n)return 0;var i=Bn(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=Bn(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=Bn(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function In(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(n+2)}}function Dn(e){var t=this.lastTotal-this.lastNeed,n=In(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function Un(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function zn(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function jn(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function qn(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Hn(e){return e.toString(this.encoding)}function Fn(e){return e&&e.length?this.write(e):""}function Zn(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function Wn(e,t){return e.listeners(t).length}function Yn(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Dr&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new On,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Kh(e.encoding),this.encoding=e.encoding)}function Vn(e){if(!(this instanceof Vn))return new Vn(e);this._readableState=new Yn(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),mn.call(this)}function Gn(e,t,n,r,i){var s=Jn(t,n);if(s)e.emit("error",s);else if(null===n)t.reading=!1,Qn(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var h;!t.decoder||i||r||(n=t.decoder.write(n),h=!t.objectMode&&0===n.length),i||(t.reading=!1),h||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&er(e))),nr(e,t)}else i||(t.reading=!1);return $n(t)}function $n(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function Xn(e){return e>=Qh?e=Qh:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Kn(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Xn(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function Jn(e,t){var n=null;return it(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function Qn(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,er(e)}}function er(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Jh("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?G(tr,e):tr(e))}function tr(e){Jh("emit readable"),e.emit("readable"),hr(e)}function nr(e,t){t.readingMore||(t.readingMore=!0,G(rr,e,t))}function rr(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Jh("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function ir(e){return function(){var t=e._readableState;Jh("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,hr(e))}}function sr(e){Jh("readable nexttick read 0"),e.read(0)}function or(e,t){t.resumeScheduled||(t.resumeScheduled=!0,G(ar,e,t))}function ar(e,t){t.reading||(Jh("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),hr(e),t.flowing&&!t.reading&&e.read(0)}function hr(e){var t=e._readableState;for(Jh("flow",t.flowing);t.flowing&&null!==e.read(););}function cr(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=lr(e,t.buffer,t.decoder),n}function lr(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?ur(e,t):fr(e,t),r}function ur(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++r}return t.length-=r,i}function fr(e,t){var n=de.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0===(e-=o)){o===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}function dr(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,G(pr,t,e))}function pr(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function gr(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function mr(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function yr(){}function _r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function vr(e,t){Object.defineProperty(this,"buffer",{get:ht(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Dr&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){Ar(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ir(this)}function br(e){if(!(this instanceof br||this instanceof Dr))return new br(e);this._writableState=new vr(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),mn.call(this)}function wr(e,t){var n=new Error("write after end");e.emit("error",n),G(t,n)}function kr(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):de.isBuffer(n)||"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),G(r,s),i=!1),i}function Er(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=de.from(t,n)),t}function xr(e,t,n,r,i){n=Er(t,n,r),de.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new _r(n,r,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Sr(e,t,!1,s,n,r,i);return o}function Sr(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function Tr(e,t,n,r,i){--t.pendingcb,n?G(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function Rr(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Ar(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(Rr(n),t)Tr(e,n,r,t,i);else{var s=Lr(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||Nr(e,n),r?G(Cr,e,n,s,i):Cr(e,n,s,i)}}function Cr(e,t,n,r){n||Or(e,t),t.pendingcb--,r(),Br(e,t)}function Or(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Nr(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var o=0;n;)i[o]=n,n=n.next,o+=1;Sr(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new Ir(t)}else{for(;n;){var a=n.chunk,h=n.encoding,c=n.callback;if(Sr(e,t,!1,t.objectMode?1:a.length,a,h,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function Lr(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function Pr(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function Br(e,t){var n=Lr(t);return n&&(0===t.pendingcb?(Pr(e,t),t.finished=!0,e.emit("finish")):Pr(e,t)),n}function Mr(e,t,n){t.ending=!0,Br(e,t),n&&(t.finished?G(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function Ir(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}function Dr(e){if(!(this instanceof Dr))return new Dr(e);Vn.call(this,e),br.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Ur)}function Ur(){this.allowHalfOpen||this._writableState.ended||G(zr,this)}function zr(e){e.end()}function jr(e){this.afterTransform=function(t,n){return qr(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function qr(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}function Hr(e){if(!(this instanceof Hr))return new Hr(e);Dr.call(this,e),this._transformState=new jr(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){Fr(t,e)}):Fr(t)})}function Fr(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function Zr(e){if(!(this instanceof Zr))return new Zr(e);Hr.call(this,e)}function Wr(){mn.call(this)}function Yr(e,t,n){var r=this;Vn.call(r),r._mode=n,r.headers={},r.rawHeaders=[],r.trailers={},r.rawTrailers=[],r.on("end",function(){G(function(){r.emit("close")})});var i;if("fetch"===n){r._fetchResponse=t,r.url=t.url,r.statusCode=t.status,r.statusMessage=t.statusText;for(var s,o,a=t.headers[Symbol.iterator]();s=(o=a.next()).value,!o.done;)r.headers[s[0].toLowerCase()]=s[1],r.rawHeaders.push(s[0],s[1]);var h=t.body.getReader();(i=function(){h.read().then(function(e){r._destroyed||(e.done?r.push(null):(r.push(new de(e.value)),i()))})})()}else if(r._xhr=e,r._pos=0,r.url=e.responseURL,r.statusCode=e.status,r.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===r.headers[n]&&(r.headers[n]=[]),r.headers[n].push(t[2])):void 0!==r.headers[n]?r.headers[n]+=", "+t[2]:r.headers[n]=t[2],r.rawHeaders.push(t[1],t[2])}}),r._charset="x-user-defined",!Wh){var c=r.rawHeaders["mime-type"];if(c){var l=c.match(/;\s*charset=([^;])(;|$)/);l&&(r._charset=l[1].toLowerCase())}r._charset||(r._charset="utf-8")}}function Vr(e,t){return zh&&t?"fetch":Zh?"moz-chunked-arraybuffer":Fh?"ms-stream":Hh&&e?"arraybuffer":Yh&&e?"text:vbarray":"text"}function Gr(e){var t=this;br.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new de(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(n){t.setHeader(n,e.headers[n])});var n,r=!0;if("disable-fetch"===e.mode)r=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!Wh;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}t._mode=Vr(n,r),t.on("finish",function(){t._onFinish()})}function $r(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}function Xr(e,t){"string"==typeof e&&(e=sn(e));var n=-1===Bo.location.protocol.search(/^https?:$/)?"http:":"",r=e.protocol||n,i=e.hostname||e.host,s=e.port,o=e.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),e.url=(i?r+"//"+i:"")+(s?":"+s:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new Gr(e);return t&&a.on("response",t),a}function Kr(e,t){var n=Xr(e,t);return n.end(),n}function Jr(){}function Qr(e){var t,n,r=this,i=uc,s=uc,o={},a=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},c=h,l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],u=["TRACE","TRACK","CONNECT"],f=!1,d=!1,p={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var g=function(e){return a||e&&-1===l.indexOf(e.toLowerCase())},m=function(e){return e&&-1===u.indexOf(e)};this.open=function(e,t,n,r,i){if(this.abort(),d=!1,!m(e))throw"SecurityError: Request method not allowed";o={method:e,url:t.toString(),async:"boolean"!=typeof n||n,user:r||null,password:i||null},y(this.OPENED)},this.setDisableHeaderCheck=function(e){a=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN";if(!g(e))return console.warn('Refused to set unsafe header "'+e+'"'),!1;if(f)throw"INVALID_STATE_ERR: send flag is true";return c[e]=t,!0},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&n.headers[e.toLowerCase()]&&!d?n.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||d)return"";var e="";for(var t in n.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+n.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&c[e]?c[e]:""},this.send=function(a){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: connection must be opened before send() is called";if(f)throw"INVALID_STATE_ERR: send has already been called";var h,l=!1,u=!1,p=lc.parse(o.url);switch(p.protocol){case"https:":l=!0;case"http:":h=p.hostname;break;case"file:":u=!0;break;case void 0:case"":h="localhost";break;default:throw"Protocol not supported."}if(u){if("GET"!==o.method)throw"XMLHttpRequest: Only GET method is supported";if(o.async)Ua.readFile(p.pathname,"utf8",function(e,t){e?r.handleError(e):(r.status=200,r.responseText=t,y(r.DONE))});else try{this.responseText=Ua.readFileSync(p.pathname,"utf8"),this.status=200,y(r.DONE)}catch(e){this.handleError(e)}}else{var g=p.port||(l?443:80),m=p.pathname+(p.search?p.search:"");if(c.Host=h,l&&443===g||80===g||(c.Host+=":"+p.port),o.user){void 0===o.password&&(o.password="");var _=new de(o.user+":"+o.password);c.Authorization="Basic "+_.toString("base64")}"GET"===o.method||"HEAD"===o.method?a=null:a?(c["Content-Length"]=it(a)?a.length:de.byteLength(a),c["Content-Type"]||(c["Content-Type"]="text/plain;charset=UTF-8")):"POST"===o.method&&(c["Content-Length"]=0);var v=!1;e&&e.agent&&(v=e.agent);var b={host:h,port:g,path:m,method:o.method,headers:c,agent:v};if(l&&(b.pfx=e.pfx,b.key=e.key,b.passphrase=e.passphrase,b.cert=e.cert,b.ca=e.ca,b.ciphers=e.ciphers,b.rejectUnauthorized=e.rejectUnauthorized),d=!1,o.async){var w=l?s.request:i.request;f=!0,r.dispatchEvent("readystatechange");var k=function(i){if(302===(n=i).statusCode||303===n.statusCode||307===n.statusCode){o.url=n.headers.location;var s=lc.parse(o.url);h=s.hostname;var a={hostname:s.hostname,port:s.port,path:s.path,method:303===n.statusCode?"GET":o.method,headers:c};return l&&(a.pfx=e.pfx,a.key=e.key,a.passphrase=e.passphrase,a.cert=e.cert,a.ca=e.ca,a.ciphers=e.ciphers,a.rejectUnauthorized=e.rejectUnauthorized),void(t=w(a,k).on("error",E)).end()}n&&n.setEncoding&&n.setEncoding("utf8"),y(r.HEADERS_RECEIVED),r.status=n.statusCode,n.on("data",function(e){e&&(r.responseText+=e),f&&y(r.LOADING)}),n.on("end",function(){f&&(y(r.DONE),f=!1)}),n.on("error",function(e){r.handleError(e)})},E=function(e){r.handleError(e)};t=w(b,k).on("error",E),a&&t.write(a),t.end(),r.dispatchEvent("loadstart")}else{var x=".node-xmlhttprequest-content-"+sa.pid,S=".node-xmlhttprequest-sync-"+sa.pid;Ua.writeFileSync(S,"","utf8");for(var T="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(l?"s":"")+".request;var options = "+JSON.stringify(b)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+S+"');});response.on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+S+"');});}).on('error', function(error) {fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+S+"');});"+(a?"req.write('"+a.replace(/'/g,"\\'")+"');":"")+"req.end();",R=fc(sa.argv[0],["-e",T]);Ua.existsSync(S););if(r.responseText=Ua.readFileSync(x,"utf8"),R.stdin.end(),Ua.unlinkSync(x),r.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var A=r.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");r.handleError(A)}else r.status=r.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),r.responseText=r.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),y(r.DONE)}}},this.handleError=function(e){this.status=503,this.statusText=e,this.responseText=e.stack,d=!0,y(this.DONE)},this.abort=function(){t&&(t.abort(),t=null),c=h,this.responseText="",this.responseXML="",d=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!f||this.readyState===this.DONE||(f=!1,y(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in p||(p[e]=[]),p[e].push(t)},this.removeEventListener=function(e,t){e in p&&(p[e]=p[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof r["on"+e]&&r["on"+e](),e in p)for(var t=0,n=p[e].length;t<n;t++)p[e][t].call(r)};var y=function(e){r.readyState!==e&&(r.readyState=e,(o.async||r.readyState<r.OPENED||r.readyState===r.DONE)&&r.dispatchEvent("readystatechange"),r.readyState!==r.DONE||d||(r.dispatchEvent("load"),r.dispatchEvent("loadend")))}}function ei(){}function ti(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}function ni(e){var t="";do{t=kc[e%Ec]+t,e=Math.floor(e/Ec)}while(e>0);return t}function ri(){var e=ni(+new Date);return e!==vc?(Sc=0,vc=e):e+"."+ni(Sc++)}function ii(e){var t=e&&e.forceBase64;Oc&&!t||(this.supportsBinary=!1),_c.call(this,e)}function si(){}function oi(e){if(Cc.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,Bo.location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!==Bo.location.hostname||n!==e.port,this.xs=e.secure!==t}}function ai(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function hi(){for(var e in ai.requests)ai.requests.hasOwnProperty(e)&&ai.requests[e].abort()}function ci(){}function li(e){Cc.call(this,e),this.query=this.query||{},Bc||(Bo.___eio||(Bo.___eio=[]),Bc=Bo.___eio),this.index=Bc.length;var t=this;Bc.push(function(e){t.onData(e)}),this.query.j=this.index,Bo.document&&Bo.addEventListener&&Bo.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=ci)},!1)}function ui(e){if(!(this instanceof ui))return new ui(e);this.id=zc++,this.ee=e}function fi(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function di(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]}function pi(e){for(var t=e.length;--t>=0;)e[t]=0}function gi(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function mi(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function yi(e){return e<256?_l[e]:_l[256+(e>>>7)]}function _i(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function vi(e,t,n){e.bi_valid>ol-n?(e.bi_buf|=t<<e.bi_valid&65535,_i(e,e.bi_buf),e.bi_buf=t>>ol-e.bi_valid,e.bi_valid+=n-ol):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function bi(e,t,n){vi(e,n[2*t],n[2*t+1])}function wi(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function ki(e){16===e.bi_valid?(_i(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Ei(e,t){var n,r,i,s,o,a,h=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(s=0;s<=sl;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<il;n++)(s=h[2*h[2*(r=e.heap[n])+1]+1]+1)>p&&(s=p,g++),h[2*r+1]=s,r>c||(e.bl_count[s]++,o=0,r>=d&&(o=f[r-d]),a=h[2*r],e.opt_len+=a*(s+o),u&&(e.static_len+=a*(l[2*r+1]+o)));if(0!==g){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(r=e.bl_count[s];0!==r;)(i=e.heap[--n])>c||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),r--)}}function xi(e,t,n){var r,i,s=new Array(sl+1),o=0;for(r=1;r<=sl;r++)s[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=wi(s[a]++,a))}}function Si(){var e,t,n,r,i,s=new Array(sl+1);for(n=0,r=0;r<Qc-1;r++)for(bl[r]=n,e=0;e<1<<fl[r];e++)vl[n++]=r;for(vl[n-1]=r,i=0,r=0;r<16;r++)for(wl[r]=i,e=0;e<1<<dl[r];e++)_l[i++]=r;for(i>>=7;r<nl;r++)for(wl[r]=i<<7,e=0;e<1<<dl[r]-7;e++)_l[256+i++]=r;for(t=0;t<=sl;t++)s[t]=0;for(e=0;e<=143;)ml[2*e+1]=8,e++,s[8]++;for(;e<=255;)ml[2*e+1]=9,e++,s[9]++;for(;e<=279;)ml[2*e+1]=7,e++,s[7]++;for(;e<=287;)ml[2*e+1]=8,e++,s[8]++;for(xi(ml,tl+1,s),e=0;e<nl;e++)yl[2*e+1]=5,yl[2*e]=wi(e,5);kl=new gi(ml,fl,el+1,tl,sl),El=new gi(yl,dl,0,nl,sl),xl=new gi(new Array(0),pl,0,rl,al)}function Ti(e){var t;for(t=0;t<tl;t++)e.dyn_ltree[2*t]=0;for(t=0;t<nl;t++)e.dyn_dtree[2*t]=0;for(t=0;t<rl;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*hl]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Ri(e){e.bi_valid>8?_i(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Ai(e,t,n,r){Ri(e),r&&(_i(e,n),_i(e,~n)),di(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function Ci(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function Oi(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&Ci(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Ci(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function Ni(e,t,n){var r,i,s,o,a=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===r?bi(e,i,t):(bi(e,(s=vl[i])+el+1,t),0!==(o=fl[s])&&vi(e,i-=bl[s],o),bi(e,s=yi(--r),n),0!==(o=dl[s])&&vi(e,r-=wl[s],o))}while(a<e.last_lit);bi(e,hl,t)}function Li(e,t){var n,r,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,h=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=il,n=0;n<h;n++)0!==s[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Oi(e,s,n);i=h;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Oi(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,Oi(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Ei(e,t),xi(s,c,e.bl_count)}function Pi(e,t,n){var r,i,s=-1,o=t[1],a=0,h=7,c=4;for(0===o&&(h=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++a<h&&i===o||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*cl]++):a<=10?e.bl_tree[2*ll]++:e.bl_tree[2*ul]++,a=0,s=i,0===o?(h=138,c=3):i===o?(h=6,c=3):(h=7,c=4))}function Bi(e,t,n){var r,i,s=-1,o=t[1],a=0,h=7,c=4;for(0===o&&(h=138,c=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++a<h&&i===o)){if(a<c)do{bi(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(bi(e,i,e.bl_tree),a--),bi(e,cl,e.bl_tree),vi(e,a-3,2)):a<=10?(bi(e,ll,e.bl_tree),vi(e,a-3,3)):(bi(e,ul,e.bl_tree),vi(e,a-11,7));a=0,s=i,0===o?(h=138,c=3):i===o?(h=6,c=3):(h=7,c=4)}}function Mi(e){var t;for(Pi(e,e.dyn_ltree,e.l_desc.max_code),Pi(e,e.dyn_dtree,e.d_desc.max_code),Li(e,e.bl_desc),t=rl-1;t>=3&&0===e.bl_tree[2*gl[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function Ii(e,t,n,r){var i;for(vi(e,t-257,5),vi(e,n-1,5),vi(e,r-4,4),i=0;i<r;i++)vi(e,e.bl_tree[2*gl[i]+1],3);Bi(e,e.dyn_ltree,t-1),Bi(e,e.dyn_dtree,n-1)}function Di(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return Vc;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Gc;for(t=32;t<el;t++)if(0!==e.dyn_ltree[2*t])return Gc;return Vc}function Ui(e){Tl||(Si(),Tl=!0),e.l_desc=new mi(e.dyn_ltree,kl),e.d_desc=new mi(e.dyn_dtree,El),e.bl_desc=new mi(e.bl_tree,xl),e.bi_buf=0,e.bi_valid=0,Ti(e)}function zi(e,t,n,r){vi(e,(Xc<<1)+(r?1:0),3),Ai(e,t,n,!0)}function ji(e){vi(e,Kc<<1,3),bi(e,hl,ml),ki(e)}function qi(e,t,n,r){var i,s,o=0;e.level>0?(e.strm.data_type===$c&&(e.strm.data_type=Di(e)),Li(e,e.l_desc),Li(e,e.d_desc),o=Mi(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?zi(e,t,n,r):e.strategy===Yc||s===i?(vi(e,(Kc<<1)+(r?1:0),3),Ni(e,ml,yl)):(vi(e,(Jc<<1)+(r?1:0),3),Ii(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Ni(e,e.dyn_ltree,e.dyn_dtree)),Ti(e),r&&Ri(e)}function Hi(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(vl[n]+el+1)]++,e.dyn_dtree[2*yi(t)]++),e.last_lit===e.lit_bufsize-1}function Fi(e,t,n,r){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{s=s+(i=i+t[r++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}function Zi(e,t,n,r){var i=Rl,s=r+n;e^=-1;for(var o=r;o<s;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}function Wi(e,t){return e.msg=Hc[t],t}function Yi(e){return(e<<1)-(e>4?9:0)}function Vi(e){for(var t=e.length;--t>=0;)e[t]=0}function Gi(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(di(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function $i(e,t){qi(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Gi(e.strm)}function Xi(e,t){e.pending_buf[e.pending++]=t}function Ki(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function Ji(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,di(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=Fi(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Zi(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function Qi(e,t){var n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,h=e.strstart>e.w_size-Ql?e.strstart-(e.w_size-Ql):0,c=e.window,l=e.w_mask,u=e.prev,f=e.strstart+Jl,d=c[s+o-1],p=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,c[n+o]===p&&c[n+o-1]===d&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<f);if(r=Jl-(f-s),s=f-Jl,r>o){if(e.match_start=t,o=r,r>=a)break;d=c[s+o-1],p=c[s+o]}}}while((t=u[t&l])>h&&0!=--i);return o<=e.lookahead?o:e.lookahead}function es(e){var t,n,r,i,s,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-Ql)){di(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);t=n=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);i+=o}if(0===e.strm.avail_in)break;if(n=Ji(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=Kl)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+Kl-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Kl)););}while(e.lookahead<Ql&&0!==e.strm.avail_in)}function ts(e,t){for(var n,r;;){if(e.lookahead<Ql){if(es(e),e.lookahead<Ql&&t===Al)return hu;if(0===e.lookahead)break}if(n=0,e.lookahead>=Kl&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Kl-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ql&&(e.match_length=Qi(e,n)),e.match_length>=Kl)if(r=Hi(e,e.strstart-e.match_start,e.match_length-Kl),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Kl){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Kl-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Hi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&($i(e,!1),0===e.strm.avail_out))return hu}return e.insert=e.strstart<Kl-1?e.strstart:Kl-1,t===Nl?($i(e,!0),0===e.strm.avail_out?lu:uu):e.last_lit&&($i(e,!1),0===e.strm.avail_out)?hu:cu}function ns(e,t){for(var n,r,i;;){if(e.lookahead<Ql){if(es(e),e.lookahead<Ql&&t===Al)return hu;if(0===e.lookahead)break}if(n=0,e.lookahead>=Kl&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Kl-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Kl-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ql&&(e.match_length=Qi(e,n),e.match_length<=5&&(e.strategy===zl||e.match_length===Kl&&e.strstart-e.match_start>4096)&&(e.match_length=Kl-1)),e.prev_length>=Kl&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Kl,r=Hi(e,e.strstart-1-e.prev_match,e.prev_length-Kl),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Kl-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=Kl-1,e.strstart++,r&&($i(e,!1),0===e.strm.avail_out))return hu}else if(e.match_available){if((r=Hi(e,0,e.window[e.strstart-1]))&&$i(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return hu}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Hi(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Kl-1?e.strstart:Kl-1,t===Nl?($i(e,!0),0===e.strm.avail_out?lu:uu):e.last_lit&&($i(e,!1),0===e.strm.avail_out)?hu:cu}function rs(e,t){for(var n,r,i,s,o=e.window;;){if(e.lookahead<=Jl){if(es(e),e.lookahead<=Jl&&t===Al)return hu;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=Kl&&e.strstart>0&&(i=e.strstart-1,(r=o[i])===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+Jl;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=Jl-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Kl?(n=Hi(e,1,e.match_length-Kl),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Hi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&($i(e,!1),0===e.strm.avail_out))return hu}return e.insert=0,t===Nl?($i(e,!0),0===e.strm.avail_out?lu:uu):e.last_lit&&($i(e,!1),0===e.strm.avail_out)?hu:cu}function is(e,t){for(var n;;){if(0===e.lookahead&&(es(e),0===e.lookahead)){if(t===Al)return hu;break}if(e.match_length=0,n=Hi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&($i(e,!1),0===e.strm.avail_out))return hu}return e.insert=0,t===Nl?($i(e,!0),0===e.strm.avail_out?lu:uu):e.last_lit&&($i(e,!1),0===e.strm.avail_out)?hu:cu}function ss(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function os(e){e.window_size=2*e.w_size,Vi(e.head),e.max_lazy_match=Sl[e.level].max_lazy,e.good_match=Sl[e.level].good_length,e.nice_match=Sl[e.level].nice_length,e.max_chain_length=Sl[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Kl-1,e.match_available=0,e.ins_h=0}function as(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Zc(2*$l),this.dyn_dtree=new Zc(2*(2*Vl+1)),this.bl_tree=new Zc(2*(2*Gl+1)),Vi(this.dyn_ltree),Vi(this.dyn_dtree),Vi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Zc(Xl+1),this.heap=new Zc(2*Yl+1),Vi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Zc(2*Yl+1),Vi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function hs(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Fl,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?tu:ou,e.adler=2===t.wrap?0:1,t.last_flush=Al,Ui(t),Pl):Wi(e,Ml)}function cs(e){var t=hs(e);return t===Pl&&os(e.state),t}function ls(e,t,n,r,i,s){if(!e)return Ml;var o=1;if(t===Ul&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>Wl||n!==Zl||r<8||r>15||t<0||t>9||s<0||s>Hl)return Wi(e,Ml);8===r&&(r=9);var a=new as;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Kl-1)/Kl),a.window=new Fc(2*a.w_size),a.head=new Zc(a.hash_size),a.prev=new Zc(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Fc(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=s,a.method=n,cs(e)}function us(e,t){var n,r,i,s;if(!e||!e.state||t>Ll||t<0)return e?Wi(e,Ml):Ml;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===au&&t!==Nl)return Wi(e,0===e.avail_out?Dl:Ml);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===tu)if(2===r.wrap)e.adler=0,Xi(r,31),Xi(r,139),Xi(r,8),r.gzhead?(Xi(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Xi(r,255&r.gzhead.time),Xi(r,r.gzhead.time>>8&255),Xi(r,r.gzhead.time>>16&255),Xi(r,r.gzhead.time>>24&255),Xi(r,9===r.level?2:r.strategy>=jl||r.level<2?4:0),Xi(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Xi(r,255&r.gzhead.extra.length),Xi(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Zi(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=nu):(Xi(r,0),Xi(r,0),Xi(r,0),Xi(r,0),Xi(r,0),Xi(r,9===r.level?2:r.strategy>=jl||r.level<2?4:0),Xi(r,fu),r.status=ou);else{var o=Zl+(r.w_bits-8<<4)<<8;o|=(r.strategy>=jl||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=eu),o+=31-o%31,r.status=ou,Ki(r,o),0!==r.strstart&&(Ki(r,e.adler>>>16),Ki(r,65535&e.adler)),e.adler=1}if(r.status===nu)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=Zi(e.adler,r.pending_buf,r.pending-i,i)),Gi(e),i=r.pending,r.pending!==r.pending_buf_size));)Xi(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=Zi(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=ru)}else r.status=ru;if(r.status===ru)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Zi(e.adler,r.pending_buf,r.pending-i,i)),Gi(e),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Xi(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>i&&(e.adler=Zi(e.adler,r.pending_buf,r.pending-i,i)),0===s&&(r.gzindex=0,r.status=iu)}else r.status=iu;if(r.status===iu)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Zi(e.adler,r.pending_buf,r.pending-i,i)),Gi(e),i=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Xi(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>i&&(e.adler=Zi(e.adler,r.pending_buf,r.pending-i,i)),0===s&&(r.status=su)}else r.status=su;if(r.status===su&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Gi(e),r.pending+2<=r.pending_buf_size&&(Xi(r,255&e.adler),Xi(r,e.adler>>8&255),e.adler=0,r.status=ou)):r.status=ou),0!==r.pending){if(Gi(e),0===e.avail_out)return r.last_flush=-1,Pl}else if(0===e.avail_in&&Yi(t)<=Yi(n)&&t!==Nl)return Wi(e,Dl);if(r.status===au&&0!==e.avail_in)return Wi(e,Dl);if(0!==e.avail_in||0!==r.lookahead||t!==Al&&r.status!==au){var a=r.strategy===jl?is(r,t):r.strategy===ql?rs(r,t):Sl[r.level].func(r,t);if(a!==lu&&a!==uu||(r.status=au),a===hu||a===lu)return 0===e.avail_out&&(r.last_flush=-1),Pl;if(a===cu&&(t===Cl?ji(r):t!==Ll&&(zi(r,0,0,!1),t===Ol&&(Vi(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Gi(e),0===e.avail_out))return r.last_flush=-1,Pl}return t!==Nl?Pl:r.wrap<=0?Bl:(2===r.wrap?(Xi(r,255&e.adler),Xi(r,e.adler>>8&255),Xi(r,e.adler>>16&255),Xi(r,e.adler>>24&255),Xi(r,255&e.total_in),Xi(r,e.total_in>>8&255),Xi(r,e.total_in>>16&255),Xi(r,e.total_in>>24&255)):(Ki(r,e.adler>>>16),Ki(r,65535&e.adler)),Gi(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Pl:Bl)}function fs(e){var t;return e&&e.state?(t=e.state.status)!==tu&&t!==nu&&t!==ru&&t!==iu&&t!==su&&t!==ou&&t!==au?Wi(e,Ml):(e.state=null,t===ou?Wi(e,Il):Pl):Ml}function ds(e,t){var n,r,i,s,o,a,h,c,l,u,f,d,p,g,m,y,_,v,b,w,k,E,x,S,T;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),s=e.next_out,T=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),h=n.dmax,c=n.wsize,l=n.whave,u=n.wnext,f=n.window,d=n.hold,p=n.bits,g=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;e:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),v=g[d&y];t:for(;;){if(b=v>>>24,d>>>=b,p-=b,0===(b=v>>>16&255))T[s++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(d&(1<<b)-1)];continue t}if(32&b){n.mode=mu;break e}e.msg="invalid literal/length code",n.mode=gu;break e}w=65535&v,(b&=15)&&(p<b&&(d+=S[r++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),v=m[d&_];n:for(;;){if(b=v>>>24,d>>>=b,p-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=m[(65535&v)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=gu;break e}if(k=65535&v,b&=15,p<b&&(d+=S[r++]<<p,(p+=8)<b&&(d+=S[r++]<<p,p+=8)),(k+=d&(1<<b)-1)>h){e.msg="invalid distance too far back",n.mode=gu;break e}if(d>>>=b,p-=b,b=s-o,k>b){if((b=k-b)>l&&n.sane){e.msg="invalid distance too far back",n.mode=gu;break e}if(E=0,x=f,0===u){if(E+=c-b,b<w){w-=b;do{T[s++]=f[E++]}while(--b);E=s-k,x=T}}else if(u<b){if(E+=c+u-b,(b-=u)<w){w-=b;do{T[s++]=f[E++]}while(--b);if(E=0,u<w){w-=b=u;do{T[s++]=f[E++]}while(--b);E=s-k,x=T}}}else if(E+=u-b,b<w){w-=b;do{T[s++]=f[E++]}while(--b);E=s-k,x=T}for(;w>2;)T[s++]=x[E++],T[s++]=x[E++],T[s++]=x[E++],w-=3;w&&(T[s++]=x[E++],w>1&&(T[s++]=x[E++]))}else{E=s-k;do{T[s++]=T[E++],T[s++]=T[E++],T[s++]=T[E++],w-=3}while(w>2);w&&(T[s++]=T[E++],w>1&&(T[s++]=T[E++]))}break}}break}}while(r<i&&s<a);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<a?a-s+257:257-(s-a),n.hold=d,n.bits=p}function ps(e,t,n,r,i,s,o,a){var h,c,l,u,f,d,p,g,m,y=a.bits,_=0,v=0,b=0,w=0,k=0,E=0,x=0,S=0,T=0,R=0,A=null,C=0,O=new Zc(yu+1),N=new Zc(yu+1),L=null,P=0;for(_=0;_<=yu;_++)O[_]=0;for(v=0;v<r;v++)O[t[n+v]]++;for(k=y,w=yu;w>=1&&0===O[w];w--);if(k>w&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(b=1;b<w&&0===O[b];b++);for(k<b&&(k=b),S=1,_=1;_<=yu;_++)if(S<<=1,(S-=O[_])<0)return-1;if(S>0&&(e===bu||1!==w))return-1;for(N[1]=0,_=1;_<yu;_++)N[_+1]=N[_]+O[_];for(v=0;v<r;v++)0!==t[n+v]&&(o[N[t[n+v]]++]=v);if(e===bu?(A=L=o,d=19):e===wu?(A=Eu,C-=257,L=xu,P-=257,d=256):(A=Su,L=Tu,d=-1),R=0,v=0,_=b,f=s,E=k,x=0,l=-1,T=1<<k,u=T-1,e===wu&&T>_u||e===ku&&T>vu)return 1;for(;;){0,p=_-x,o[v]<d?(g=0,m=o[v]):o[v]>d?(g=L[P+o[v]],m=A[C+o[v]]):(g=96,m=0),h=1<<_-x,b=c=1<<E;do{i[f+(R>>x)+(c-=h)]=p<<24|g<<16|m|0}while(0!==c);for(h=1<<_-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,v++,0==--O[_]){if(_===w)break;_=t[n+o[v]]}if(_>k&&(R&u)!==l){for(0===x&&(x=k),f+=b,S=1<<(E=_-x);E+x<w&&!((S-=O[E+x])<=0);)E++,S<<=1;if(T+=1<<E,e===wu&&T>_u||e===ku&&T>vu)return 1;i[l=R&u]=k<<24|E<<16|f-s|0}}return 0!==R&&(i[f+R]=_-x<<24|64<<16|0),a.bits=k,0}function gs(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ms(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Zc(320),this.work=new Zc(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ys(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=qu,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Wc(bf),t.distcode=t.distdyn=new Wc(wf),t.sane=1,t.back=-1,Pu):Iu}function _s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,ys(e)):Iu}function vs(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Iu:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,_s(e))):Iu}function bs(e,t){var n,r;return e?(r=new ms,e.state=r,r.window=null,(n=vs(e,t))!==Pu&&(e.state=null),n):Iu}function ws(e){if(kf){var t;for(du=new Wc(512),pu=new Wc(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ps(Au,e.lens,0,288,du,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ps(Cu,e.lens,0,32,pu,0,e.work,{bits:5}),kf=!1}e.lencode=du,e.lenbits=9,e.distcode=pu,e.distbits=5}function ks(e,t,n,r){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Fc(s.wsize)),r>=s.wsize?(di(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>r&&(i=r),di(s.window,t,n-r,i,s.wnext),(r-=i)?(di(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function Es(e,t){var n,r,i,s,o,a,h,c,l,u,f,d,p,g,m,y,_,v,b,w,k,E,x,S,T=0,R=new Fc(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Iu;(n=e.state).mode===Ju&&(n.mode=Qu),o=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,l=n.bits,u=a,f=h,E=Pu;e:for(;;)switch(n.mode){case qu:if(0===n.wrap){n.mode=Qu;break}for(;l<16;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,R[0]=255&c,R[1]=c>>>8&255,n.check=Zi(n.check,R,2,0),c=0,l=0,n.mode=Hu;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=yf;break}if((15&c)!==ju){e.msg="unknown compression method",n.mode=yf;break}if(c>>>=4,l-=4,k=8+(15&c),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=yf;break}n.dmax=1<<k,e.adler=n.check=1,n.mode=512&c?Xu:Ju,c=0,l=0;break;case Hu:for(;l<16;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==ju){e.msg="unknown compression method",n.mode=yf;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=yf;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=Zi(n.check,R,2,0)),c=0,l=0,n.mode=Fu;case Fu:for(;l<32;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,n.check=Zi(n.check,R,4,0)),c=0,l=0,n.mode=Zu;case Zu:for(;l<16;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=Zi(n.check,R,2,0)),c=0,l=0,n.mode=Wu;case Wu:if(1024&n.flags){for(;l<16;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(R[0]=255&c,R[1]=c>>>8&255,n.check=Zi(n.check,R,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=Yu;case Yu:if(1024&n.flags&&((d=n.length)>a&&(d=a),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),di(n.head.extra,r,s,d,k)),512&n.flags&&(n.check=Zi(n.check,r,d,s)),a-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=Vu;case Vu:if(2048&n.flags){if(0===a)break e;d=0;do{k=r[s+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&d<a);if(512&n.flags&&(n.check=Zi(n.check,r,d,s)),a-=d,s+=d,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Gu;case Gu:if(4096&n.flags){if(0===a)break e;d=0;do{k=r[s+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&d<a);if(512&n.flags&&(n.check=Zi(n.check,r,d,s)),a-=d,s+=d,k)break e}else n.head&&(n.head.comment=null);n.mode=$u;case $u:if(512&n.flags){for(;l<16;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=yf;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ju;break;case Xu:for(;l<32;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}e.adler=n.check=gs(c),c=0,l=0,n.mode=Ku;case Ku:if(0===n.havedict)return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=l,Mu;e.adler=n.check=1,n.mode=Ju;case Ju:if(t===Nu||t===Lu)break e;case Qu:if(n.last){c>>>=7&l,l-=7&l,n.mode=pf;break}for(;l<3;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=ef;break;case 1:if(ws(n),n.mode=af,t===Lu){c>>>=2,l-=2;break e}break;case 2:n.mode=rf;break;case 3:e.msg="invalid block type",n.mode=yf}c>>>=2,l-=2;break;case ef:for(c>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=yf;break}if(n.length=65535&c,c=0,l=0,n.mode=tf,t===Lu)break e;case tf:n.mode=nf;case nf:if(d=n.length){if(d>a&&(d=a),d>h&&(d=h),0===d)break e;di(i,r,s,d,o),a-=d,s+=d,h-=d,o+=d,n.length-=d;break}n.mode=Ju;break;case rf:for(;l<14;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=yf;break}n.have=0,n.mode=sf;case sf:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}n.lens[A[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},E=ps(Ru,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,E){e.msg="invalid code lengths set",n.mode=yf;break}n.have=0,n.mode=of;case of:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[c&(1<<n.lenbits)-1],m=T>>>24,y=T>>>16&255,_=65535&T,!(m<=l);){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(_<16)c>>>=m,l-=m,n.lens[n.have++]=_;else{if(16===_){for(S=m+2;l<S;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=yf;break}k=n.lens[n.have-1],d=3+(3&c),c>>>=2,l-=2}else if(17===_){for(S=m+3;l<S;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}l-=m,k=0,d=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(S=m+7;l<S;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}l-=m,k=0,d=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=yf;break}for(;d--;)n.lens[n.have++]=k}}if(n.mode===yf)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=yf;break}if(n.lenbits=9,x={bits:n.lenbits},E=ps(Au,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,E){e.msg="invalid literal/lengths set",n.mode=yf;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},E=ps(Cu,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,E){e.msg="invalid distances set",n.mode=yf;break}if(n.mode=af,t===Lu)break e;case af:n.mode=hf;case hf:if(a>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=l,ds(e,f),o=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,l=n.bits,n.mode===Ju&&(n.back=-1);break}for(n.back=0;T=n.lencode[c&(1<<n.lenbits)-1],m=T>>>24,y=T>>>16&255,_=65535&T,!(m<=l);){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(y&&0==(240&y)){for(v=m,b=y,w=_;T=n.lencode[w+((c&(1<<v+b)-1)>>v)],m=T>>>24,y=T>>>16&255,_=65535&T,!(v+m<=l);){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,n.length=_,0===y){n.mode=df;break}if(32&y){n.back=-1,n.mode=Ju;break}if(64&y){e.msg="invalid literal/length code",n.mode=yf;break}n.extra=15&y,n.mode=cf;case cf:if(n.extra){for(S=n.extra;l<S;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=lf;case lf:for(;T=n.distcode[c&(1<<n.distbits)-1],m=T>>>24,y=T>>>16&255,_=65535&T,!(m<=l);){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(0==(240&y)){for(v=m,b=y,w=_;T=n.distcode[w+((c&(1<<v+b)-1)>>v)],m=T>>>24,y=T>>>16&255,_=65535&T,!(v+m<=l);){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,64&y){e.msg="invalid distance code",n.mode=yf;break}n.offset=_,n.extra=15&y,n.mode=uf;case uf:if(n.extra){for(S=n.extra;l<S;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=yf;break}n.mode=ff;case ff:if(0===h)break e;if(d=f-h,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=yf;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),g=n.window}else g=i,p=o-n.offset,d=n.length;d>h&&(d=h),h-=d,n.length-=d;do{i[o++]=g[p++]}while(--d);0===n.length&&(n.mode=hf);break;case df:if(0===h)break e;i[o++]=n.length,h--,n.mode=hf;break;case pf:if(n.wrap){for(;l<32;){if(0===a)break e;a--,c|=r[s++]<<l,l+=8}if(f-=h,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?Zi(n.check,i,f,o-f):Fi(n.check,i,f,o-f)),f=h,(n.flags?c:gs(c))!==n.check){e.msg="incorrect data check",n.mode=yf;break}c=0,l=0}n.mode=gf;case gf:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break e;a--,c+=r[s++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=yf;break}c=0,l=0}n.mode=mf;case mf:E=Bu;break e;case yf:E=Du;break e;case _f:return Uu;case vf:default:return Iu}return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<yf&&(n.mode<pf||t!==Ou))&&ks(e,e.output,e.next_out,f-e.avail_out)?(n.mode=_f,Uu):(u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?Zi(n.check,i,f,e.next_out-f):Fi(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ju?128:0)+(n.mode===af||n.mode===tf?256:0),(0===u&&0===f||t===Ou)&&E===Pu&&(E=zu),E)}function xs(e){if(!e||!e.state)return Iu;var t=e.state;return t.window&&(t.window=null),e.state=null,Pu}function Ss(e){if(e<Ef||e>xf)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function Ts(e,t){for(var n=0;n<e.length;n++)this[t+n]=e[n]}function Rs(e,t){if(!e)throw new Error(t)}function As(e){return new Ks(e)}function Cs(e){return new Js(e)}function Os(e){return new to(e)}function Ns(e){return new no(e)}function Ls(e){return new Qs(e)}function Ps(e){return new eo(e)}function Bs(e){return new ro(e)}function Ms(e,t,n){return"function"==typeof t&&(n=t,t={}),$s(new Ks(t),e,n)}function Is(e,t){return Xs(new Ks(t),e)}function Ds(e,t,n){return"function"==typeof t&&(n=t,t={}),$s(new Qs(t),e,n)}function Us(e,t){return Xs(new Qs(t),e)}function zs(e,t,n){return"function"==typeof t&&(n=t,t={}),$s(new to(t),e,n)}function js(e,t){return Xs(new to(t),e)}function qs(e,t,n){return"function"==typeof t&&(n=t,t={}),$s(new ro(t),e,n)}function Hs(e,t){return Xs(new ro(t),e)}function Fs(e,t,n){return"function"==typeof t&&(n=t,t={}),$s(new Js(t),e,n)}function Zs(e,t){return Xs(new Js(t),e)}function Ws(e,t,n){return"function"==typeof t&&(n=t,t={}),$s(new eo(t),e,n)}function Ys(e,t){return Xs(new eo(t),e)}function Vs(e,t,n){return"function"==typeof t&&(n=t,t={}),$s(new no(t),e,n)}function Gs(e,t){return Xs(new no(t),e)}function $s(e,t,n){function r(){for(var t;null!==(t=e.read());)s.push(t),o+=t.length;e.once("readable",r)}function i(){var t=de.concat(s,o);s=[],n(null,t),e.close()}var s=[],o=0;e.on("error",function(t){e.removeListener("end",i),e.removeListener("readable",r),n(t)}),e.on("end",i),e.end(t),r()}function Xs(e,t){if("string"==typeof t&&(t=new de(t)),!it(t))throw new TypeError("Not a string or buffer");var n=Rf.Z_FINISH;return e._processChunk(t,n)}function Ks(e){if(!(this instanceof Ks))return new Ks(e);io.call(this,e,Rf.DEFLATE)}function Js(e){if(!(this instanceof Js))return new Js(e);io.call(this,e,Rf.INFLATE)}function Qs(e){if(!(this instanceof Qs))return new Qs(e);io.call(this,e,Rf.GZIP)}function eo(e){if(!(this instanceof eo))return new eo(e);io.call(this,e,Rf.GUNZIP)}function to(e){if(!(this instanceof to))return new to(e);io.call(this,e,Rf.DEFLATERAW)}function no(e){if(!(this instanceof no))return new no(e);io.call(this,e,Rf.INFLATERAW)}function ro(e){if(!(this instanceof ro))return new ro(e);io.call(this,e,Rf.UNZIP)}function io(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||Rf.Z_DEFAULT_CHUNK,Hr.call(this,e),e.flush&&e.flush!==Rf.Z_NO_FLUSH&&e.flush!==Rf.Z_PARTIAL_FLUSH&&e.flush!==Rf.Z_SYNC_FLUSH&&e.flush!==Rf.Z_FULL_FLUSH&&e.flush!==Rf.Z_FINISH&&e.flush!==Rf.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||Rf.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<Rf.Z_MIN_CHUNK||e.chunkSize>Rf.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<Rf.Z_MIN_WINDOWBITS||e.windowBits>Rf.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<Rf.Z_MIN_LEVEL||e.level>Rf.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<Rf.Z_MIN_MEMLEVEL||e.memLevel>Rf.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=Rf.Z_FILTERED&&e.strategy!=Rf.Z_HUFFMAN_ONLY&&e.strategy!=Rf.Z_RLE&&e.strategy!=Rf.Z_FIXED&&e.strategy!=Rf.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!it(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Rf.Zlib(t);var n=this;this._hadError=!1,this._binding.onerror=function(e,t){n._binding=null,n._hadError=!0;var r=new Error(e);r.errno=t,r.code=Rf.codes[t],n.emit("error",r)};var r=Rf.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(r=e.level);var i=Rf.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(i=e.strategy),this._binding.init(e.windowBits||Rf.Z_DEFAULT_WINDOWBITS,r,e.memLevel||Rf.Z_DEFAULT_MEMLEVEL,i,e.dictionary),this._buffer=new de(this._chunkSize),this._offset=0,this._closed=!1,this._level=r,this._strategy=i,this.once("end",this.close)}function so(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function oo(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return e=so(go(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."}function ao(e){var t=ho(e),n="/"===Bf(e,-1);return(e=so(go(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function ho(e){return"/"===e.charAt(0)}function co(){return ao(go(Array.prototype.slice.call(arguments,0),function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function lo(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=oo(e).substr(1),t=oo(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),s=Math.min(r.length,i.length),o=s,a=0;a<s;a++)if(r[a]!==i[a]){o=a;break}for(var h=[],a=o;a<r.length;a++)h.push("..");return(h=h.concat(i.slice(o))).join("/")}function uo(e){var t=Lf(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function fo(e,t){var n=Lf(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function po(e){return Lf(e)[3]}function go(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function mo(e,t){return 1===e.length?e[0]:e.length>1?jf.concat(e,t):nd.EMPTY_BUFFER}function yo(e){return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function _o(e){const t=md.from(e.buffer);return e.byteLength!==e.buffer.byteLength?t.slice(e.byteOffset,e.byteOffset+e.byteLength):t}function vo(e,t,n,r){this.protocolVersion=r.protocolVersion,this.extensions=r.extensions,this.maxPayload=r.maxPayload,this.protocol=r.protocol,this.upgradeReq=e,this._isServer=!0,this.setSocket(t,n)}function bo(e,t,n){if(n=Object.assign({protocolVersion:bd[1],protocol:t.join(","),perMessageDeflate:!0,localAddress:null,headers:null,family:null,origin:null,agent:null,host:null,checkServerIdentity:null,rejectUnauthorized:null,passphrase:null,ciphers:null,cert:null,key:null,pfx:null,ca:null},n),-1===bd.indexOf(n.protocolVersion))throw new Error(`unsupported protocol version: ${n.protocolVersion} `+`(supported versions: ${bd.join(", ")})`);this.protocolVersion=n.protocolVersion,this._isServer=!1,this.url=e;const r=lc.parse(e),i="ws+unix:"===r.protocol;if(!(r.host||i&&r.path))throw new Error("invalid url");const s="wss:"===r.protocol||"https:"===r.protocol,o=Ua.randomBytes(16).toString("base64"),a=uc,h={};var c;n.perMessageDeflate&&(c=new $f(!0!==n.perMessageDeflate?n.perMessageDeflate:{},!1),h[$f.extensionName]=c.offer());const l={port:r.port||(s?443:80),host:r.hostname,path:"/",headers:{"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":o,Connection:"Upgrade",Upgrade:"websocket"}};if(n.headers&&Object.assign(l.headers,n.headers),Object.keys(h).length&&(l.headers["Sec-WebSocket-Extensions"]=td.format(h)),n.protocol&&(l.headers["Sec-WebSocket-Protocol"]=n.protocol),n.origin&&(n.protocolVersion<13?l.headers["Sec-WebSocket-Origin"]=n.origin:l.headers.Origin=n.origin),n.host&&(l.headers.Host=n.host),r.auth&&(l.auth=r.auth),n.localAddress&&(l.localAddress=n.localAddress),n.family&&(l.family=n.family),i){const e=r.path.split(":");l.socketPath=e[0],l.path=e[1]}else r.path&&("/"!==r.path.charAt(0)?l.path=`/${r.path}`:l.path=r.path);var u=n.agent;(null!=n.rejectUnauthorized||n.checkServerIdentity||n.passphrase||n.ciphers||n.cert||n.key||n.pfx||n.ca)&&(n.passphrase&&(l.passphrase=n.passphrase),n.ciphers&&(l.ciphers=n.ciphers),n.cert&&(l.cert=n.cert),n.key&&(l.key=n.key),n.pfx&&(l.pfx=n.pfx),n.ca&&(l.ca=n.ca),n.checkServerIdentity&&(l.checkServerIdentity=n.checkServerIdentity),null!=n.rejectUnauthorized&&(l.rejectUnauthorized=n.rejectUnauthorized),u||(u=new a.Agent(l))),u&&(l.agent=u),this._req=a.get(l),this._req.on("error",e=>{this._req.aborted||(this._req=null,this.emit("error",e),this.finalize(!0))}),this._req.on("response",e=>{this.emit("unexpected-response",this._req,e)||(this._req.abort(),this.emit("error",new Error(`unexpected server response (${e.statusCode})`)),this.finalize(!0))}),this._req.on("upgrade",(e,t,r)=>{if(this.emit("headers",e.headers,e),this.readyState!==kd.CONNECTING)return;this._req=null;const i=Ua.createHash("sha1").update(o+nd.GUID,"binary").digest("base64");if(e.headers["sec-websocket-accept"]!==i)return t.destroy(),this.emit("error",new Error("invalid server key")),this.finalize(!0);const s=e.headers["sec-websocket-protocol"],a=(n.protocol||"").split(/, */);var h;if(!n.protocol&&s?h="server sent a subprotocol even though none requested":n.protocol&&!s?h="server sent no subprotocol even though requested":s&&-1===a.indexOf(s)&&(h="server responded with an invalid protocol"),h)return t.destroy(),this.emit("error",new Error(h)),this.finalize(!0);s&&(this.protocol=s);const l=td.parse(e.headers["sec-websocket-extensions"]);if(c&&l[$f.extensionName]){try{c.accept(l[$f.extensionName])}catch(e){return t.destroy(),this.emit("error",new Error("invalid extension parameter")),this.finalize(!0)}this.extensions[$f.extensionName]=c}this.setSocket(t,r)})}function wo(){this.destroy()}function ko(e,t){const n=e.perMessageDeflate,r={};if(n&&t[$f.extensionName]){const i=new $f(!0!==n?n:{},!0,e.maxPayload);i.accept(t[$f.extensionName]),r[$f.extensionName]=i}return r}function Eo(e,t,n){e.writable&&(n=n||uc.STATUS_CODES[t],e.write(`HTTP/1.1 ${t} ${uc.STATUS_CODES[t]}\r\n`+"Connection: close\r\nContent-type: text/html\r\n"+`Content-Length: ${xd.byteLength(n)}\r\n`+"\r\n"+n)),e.removeListener("error",wo),e.destroy()}function xo(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=Od&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(Nd=Rd),_c.call(this,e)}function So(e,t){if(!(this instanceof So))return new So(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=Do(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Do(t.host).host),this.secure=null!=t.secure?t.secure:Bo.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(Bo.location?location.hostname:"localhost"),this.port=t.port||(Bo.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=bc.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var n="object"==typeof Bo&&Bo;n.global===n&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function To(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ro(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}function Ao(e,t){if(!(this instanceof Ao))return new Ao(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Qd({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||rh;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var Co={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add:function(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(e,t){this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule("@keyframes "+t+" "+e,this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var e=window.performance.now(),t=this.transitions.length;t--;){var n=this.transitions[t];n.program&&e>=n.program.end&&n.done(),n.pending&&e>=n.pending.start&&n.start(n.pending),n.running?(n.update(e),this.running=!0):n.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(t=this.stylesheet.cssRules.length;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule:function(e,t){e.style.animation=e.style.animation.split(", ").filter(function(e){return e.slice(0,t.length)!==t}).join(", ")}},Oo={get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,t)},observe:function(e,t,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[e]||(r[e]=[])).push(t),n&&!1===n.init||(t.__calling=!0,t.call(this,this._state[e]),t.__calling=!1),{cancel:function(){var n=r[e].indexOf(t);~n&&r[e].splice(n,1)}}},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){this._set(t({},e)),this._root._lock||(this._root._lock=!0,_(this._root._beforecreate),_(this._root._oncreate),_(this._root._aftercreate),this._root._lock=!1)}};t(w.prototype,Oo),w.prototype._set=function(e){var n=this._state;this._state=t({},n,e),y(this,this._observers.pre,e,n),this._fragment.update(e,this._state),y(this,this._observers.post,e,n)},w.prototype.teardown=w.prototype.destroy=function(e){this._destroyed||(this.fire("destroy"),!1!==e&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var No={computed:{publishedPosts:function(e){return e.blog.filter(function(e){return"1"===e.published}).reverse()},visiblePosts:function(e){return e.slice(0,20)},loadMoreButtonVisible:function(e,t){return t.length!=e.length}},methods:{loadMorePosts:function(e,t){var n=e.length+10,r=t.slice(0,n);this.set({visiblePosts:r}),this.fire("sendTheHeight")}},transitions:{fade:k}};t(C.prototype,No.methods,Oo),C.prototype._set=function(e){var n=this._state;this._state=t({},n,e),E(this._state,e,n,!1),y(this,this._observers.pre,e,n),this._fragment.update(e,this._state),y(this,this._observers.post,e,n)},C.prototype.teardown=C.prototype.destroy=function(e){this._destroyed||(this.fire("destroy"),!1!==e&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Lo={oncreate:function(){var e=this;this.observe("newData",function(t){if(t){var n=e.refs.masthead;n.style.fill="rgba(255, 50, 50, 1)",setTimeout(function(){n.style.fill="rgba(51, 51, 51, 1)"},1500),e.set({newData:!1})}})}};t(P.prototype,Oo),P.prototype._set=function(e){var n=this._state;this._state=t({},n,e),y(this,this._observers.pre,e,n),this._fragment.update(e,this._state),y(this,this._observers.post,e,n)},P.prototype.teardown=P.prototype.destroy=function(e){this._destroyed||(this.fire("destroy"),!1!==e&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Po={methods:{pymUpdateHeight:function(){this.fire("sendTheHeight")}},computed:{collatedResults:function(e,t){var n={};return n.council=e.council,n.honi=e.honi,n.nus=e.nus,n.pres=e.pres,n.copy=e.copy,n.colors=t,n},blogData:function(e){var t={};return t.blog=e.blog,t.copy=e.copy,t}}};t(z.prototype,Po.methods,Oo),z.prototype._set=function(e){var n=this._state;this._state=t({},n,e),B(this._state,e,n,!1),y(this,this._observers.pre,e,n),this._fragment.update(e,this._state),y(this,this._observers.post,e,n)},z.prototype.teardown=z.prototype.destroy=function(e){this._destroyed||(this.fire("destroy"),!1!==e&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=null,this._state={},this._destroyed=!0)};var Bo="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Mo=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Io=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Do=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=Mo.exec(e||""),s={},o=14;o--;)s[Io[o]]=i[o]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s},Uo=H,zo=F;"function"==typeof Bo.setTimeout&&(Uo=setTimeout),"function"==typeof Bo.clearTimeout&&(zo=clearTimeout);var jo,qo=[],Ho=!1,Fo=-1;$.prototype.run=function(){this.fun.apply(null,this.array)};var Zo={},Wo=[],Yo={},Vo={},Go={},$o=X,Xo=X,Ko=X,Jo=X,Qo=X,ea=X,ta=X,na=Bo.performance||{},ra=na.now||na.mozNow||na.msNow||na.oNow||na.webkitNow||function(){return(new Date).getTime()},ia=new Date,sa={nextTick:G,title:"browser",browser:!0,env:Zo,argv:Wo,version:"",versions:Yo,on:$o,addListener:Xo,once:Ko,off:Jo,removeListener:Qo,removeAllListeners:ea,emit:ta,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*ra.call(na),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:Vo,config:Go,uptime:function(){return(new Date-ia)/1e3}},oa=1e3,aa=60*oa,ha=60*aa,ca=24*ha,la=365.25*ca,ua=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return K(e);if("number"===n&&!1===isNaN(e))return t.long?Q(e):J(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},fa=q(function(e,t){function n(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function r(e){function r(){if(r.enabled){var e=r,n=+new Date,s=n-(i||n);e.diff=s,e.prev=i,e.curr=n,i=n;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var h=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;h++;var i=t.formatters[r];if("function"==typeof i){var s=o[h];n=i.call(e,s),o.splice(h,1),h--}return n}),t.formatArgs.call(e,o),(r.log||t.log||console.log.bind(console)).apply(e,o)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=n(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=ua,t.names=[],t.skips=[],t.formatters={};var i}),da=q(function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==sa&&"env"in sa&&(e=sa.env.DEBUG),e}(t=e.exports=fa).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))}),e.splice(s,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}),pa={isatty:te,ReadStream:ne,WriteStream:re},ga=Object.freeze({isatty:te,ReadStream:ne,WriteStream:re,default:pa}),ma=[],ya=[],_a="undefined"!=typeof Uint8Array?Uint8Array:Array,va=!1,ba={}.toString,wa=Array.isArray||function(e){return"[object Array]"==ba.call(e)};de.TYPED_ARRAY_SUPPORT=void 0===Bo.TYPED_ARRAY_SUPPORT||Bo.TYPED_ARRAY_SUPPORT;var ka=ue();de.poolSize=8192,de._augment=function(e){return e.__proto__=de.prototype,e},de.from=function(e,t,n){return pe(null,e,t,n)},de.TYPED_ARRAY_SUPPORT&&(de.prototype.__proto__=Uint8Array.prototype,de.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&de[Symbol.species]),de.alloc=function(e,t,n){return me(null,e,t,n)},de.allocUnsafe=function(e){return ye(null,e)},de.allocUnsafeSlow=function(e){return ye(null,e)},de.isBuffer=it,de.compare=function(e,t){if(!Ee(e)||!Ee(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},de.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},de.concat=function(e,t){if(!wa(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return de.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=de.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!Ee(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},de.byteLength=xe,de.prototype._isBuffer=!0,de.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Te(this,t,t+1);return this},de.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Te(this,t,t+3),Te(this,t+1,t+2);return this},de.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Te(this,t,t+7),Te(this,t+1,t+6),Te(this,t+2,t+5),Te(this,t+3,t+4);return this},de.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Ie(this,0,e):Se.apply(this,arguments)},de.prototype.equals=function(e){if(!Ee(e))throw new TypeError("Argument must be a Buffer");return this===e||0===de.compare(this,e)},de.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},de.prototype.compare=function(e,t,n,r,i){if(!Ee(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,o=n-t,a=Math.min(s,o),h=this.slice(r,i),c=e.slice(t,n),l=0;l<a;++l)if(h[l]!==c[l]){s=h[l],o=c[l];break}return s<o?-1:o<s?1:0},de.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},de.prototype.indexOf=function(e,t,n){return Re(this,e,t,n,!0)},de.prototype.lastIndexOf=function(e,t,n){return Re(this,e,t,n,!1)},de.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return Ce(this,e,t,n);case"utf8":case"utf-8":return Oe(this,e,t,n);case"ascii":return Ne(this,e,t,n);case"latin1":case"binary":return Le(this,e,t,n);case"base64":return Pe(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},de.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ea=4096;de.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(de.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=de.prototype;else{var i=t-e;r=new de(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},de.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||He(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},de.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||He(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},de.prototype.readUInt8=function(e,t){return t||He(e,1,this.length),this[e]},de.prototype.readUInt16LE=function(e,t){return t||He(e,2,this.length),this[e]|this[e+1]<<8},de.prototype.readUInt16BE=function(e,t){return t||He(e,2,this.length),this[e]<<8|this[e+1]},de.prototype.readUInt32LE=function(e,t){return t||He(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},de.prototype.readUInt32BE=function(e,t){return t||He(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},de.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||He(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},de.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||He(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},de.prototype.readInt8=function(e,t){return t||He(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},de.prototype.readInt16LE=function(e,t){t||He(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},de.prototype.readInt16BE=function(e,t){t||He(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},de.prototype.readInt32LE=function(e,t){return t||He(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},de.prototype.readInt32BE=function(e,t){return t||He(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},de.prototype.readFloatLE=function(e,t){return t||He(e,4,this.length),ce(this,e,!0,23,4)},de.prototype.readFloatBE=function(e,t){return t||He(e,4,this.length),ce(this,e,!1,23,4)},de.prototype.readDoubleLE=function(e,t){return t||He(e,8,this.length),ce(this,e,!0,52,8)},de.prototype.readDoubleBE=function(e,t){return t||He(e,8,this.length),ce(this,e,!1,52,8)},de.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Fe(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},de.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Fe(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},de.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,1,255,0),de.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},de.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,2,65535,0),de.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Ze(this,e,t,!0),t+2},de.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,2,65535,0),de.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Ze(this,e,t,!1),t+2},de.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,4,4294967295,0),de.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):We(this,e,t,!0),t+4},de.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,4,4294967295,0),de.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):We(this,e,t,!1),t+4},de.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Fe(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},de.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Fe(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},de.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,1,127,-128),de.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},de.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,2,32767,-32768),de.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Ze(this,e,t,!0),t+2},de.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,2,32767,-32768),de.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Ze(this,e,t,!1),t+2},de.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,4,2147483647,-2147483648),de.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):We(this,e,t,!0),t+4},de.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Fe(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),de.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):We(this,e,t,!1),t+4},de.prototype.writeFloatLE=function(e,t,n){return Ve(this,e,t,!0,n)},de.prototype.writeFloatBE=function(e,t,n){return Ve(this,e,t,!1,n)},de.prototype.writeDoubleLE=function(e,t,n){return Ge(this,e,t,!0,n)},de.prototype.writeDoubleBE=function(e,t,n){return Ge(this,e,t,!1,n)},de.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!de.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},de.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!de.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=Ee(e)?e:Je(new de(e,r).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var xa,Sa,Ta=/[^+\/0-9A-Za-z-_]/g,Ra=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:ka,Buffer:de,SlowBuffer:function(e){return+e!=e&&(e=0),de.alloc(+e)},isBuffer:it}),Aa=xa="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Ca=/%[sdj%]/g,Oa={};lt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},lt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Na=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],La={inherits:Aa,_extend:zt,log:Ut,isBuffer:Bt,isPrimitive:Pt,isFunction:Lt,isError:Nt,isDate:Ot,isObject:Ct,isRegExp:At,isUndefined:Rt,isSymbol:Tt,isString:St,isNumber:xt,isNullOrUndefined:Et,isNull:kt,isBoolean:wt,isArray:bt,inspect:lt,deprecate:ht,format:at,debuglog:ct},Pa=Object.freeze({format:at,deprecate:ht,debuglog:ct,inspect:lt,isArray:bt,isBoolean:wt,isNull:kt,isNullOrUndefined:Et,isNumber:xt,isString:St,isSymbol:Tt,isUndefined:Rt,isRegExp:At,isObject:Ct,isDate:Ot,isError:Nt,isFunction:Lt,isPrimitive:Pt,isBuffer:Bt,log:Ut,inherits:Aa,_extend:zt,default:La}),Ba={},Ma=Object.freeze({default:Ba}),Ia=ga&&pa||ga,Da=Pa&&La||Pa,Ua=Ma&&Ba||Ma,za=q(function(e,t){function n(){return sa.env.DEBUG}(t=e.exports=fa).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return i.write(Da.format.apply(Da,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,i="  [3"+r+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete sa.env.DEBUG:sa.env.DEBUG=e},t.load=n,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):Ia.isatty(r)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(sa.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=sa.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{});var r=parseInt(sa.env.DEBUG_FD,10)||2;1!==r&&2!==r&&Da.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var i=1===r?sa.stdout:2===r?sa.stderr:function(e){var t;switch(sa.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new Ia.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new Ua.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new Ua.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(r);t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,Da.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,Da.inspect(e,this.inspectOpts)},t.enable(n())}),ja=q(function(e){void 0!==sa&&"renderer"===sa.type?e.exports=da:e.exports=za}),qa=ja("socket.io-client:url"),Ha=function(e,t){var n=e;t=t||Bo.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(qa("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),qa("parse %s",e),n=Do(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n},Fa=q(function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),Za={}.toString,Wa=Array.isArray||function(e){return"[object Array]"==Za.call(e)},Ya=Object.prototype.toString,Va="function"==typeof Bo.Blob||"[object BlobConstructor]"===Ya.call(Bo.Blob),Ga="function"==typeof Bo.File||"[object FileConstructor]"===Ya.call(Bo.File),$a=qt,Xa={}.toString,Ka=Array.isArray||function(e){return"[object Array]"==Xa.call(e)},Ja=function(e){return Bo.Buffer&&Bo.Buffer.isBuffer(e)||Bo.ArrayBuffer&&e instanceof ArrayBuffer},Qa=Object.prototype.toString,eh="function"==typeof Bo.Blob||"[object BlobConstructor]"===Qa.call(Bo.Blob),th="function"==typeof Bo.File||"[object FileConstructor]"===Qa.call(Bo.File),nh={deconstructPacket:function(e){var t=[],n=e.data,r=e;return r.data=Ht(n,t),r.attachments=t.length,{packet:r,buffers:t}},reconstructPacket:function(e,t){return e.data=Ft(e.data,t),e.attachments=void 0,e},removeBlobs:function(e,t){function n(e,s,o){if(!e)return e;if(eh&&e instanceof Blob||th&&e instanceof File){r++;var a=new FileReader;a.onload=function(){o?o[s]=this.result:i=this.result,--r||t(i)},a.readAsArrayBuffer(e)}else if(Ka(e))for(var h=0;h<e.length;h++)n(e[h],h,e);else if("object"==typeof e&&!Ja(e))for(var c in e)n(e[c],c,e)}var r=0,i=e;n(i),r||t(i)}},rh=q(function(e,t){function n(){}function r(e){var n=""+e.type;return t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data&&(n+=JSON.stringify(e.data)),l("encoded %j as %s",e,n),n}function i(e,t){nh.removeBlobs(e,function(e){var n=nh.deconstructPacket(e),i=r(n.packet),s=n.buffers;s.unshift(i),t(s)})}function s(){this.reconstructor=null}function o(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return c();if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1))for(r.nsp="";++n&&","!==(o=e.charAt(n))&&(r.nsp+=o,n!==e.length););else r.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var o=e.charAt(n);if(null==o||Number(o)!=o){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}return e.charAt(++n)&&(r=a(r,e.substr(n))),l("decoded %s as %j",e,r),r}function a(e,t){try{e.data=JSON.parse(t)}catch(e){return c()}return e}function h(e){this.reconPack=e,this.buffers=[]}function c(){return{type:t.ERROR,data:"parser error"}}var l=ja("socket.io-parser");t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=n,t.Decoder=s,n.prototype.encode=function(e,n){e.type!==t.EVENT&&e.type!==t.ACK||!$a(e.data)||(e.type=e.type===t.EVENT?t.BINARY_EVENT:t.BINARY_ACK),l("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?i(e,n):n([r(e)])},Fa(s.prototype),s.prototype.add=function(e){var n;if("string"==typeof e)n=o(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new h(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!Ja(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=nh.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}}),ih=2147483647,sh=36,oh=1,ah=26,hh=38,ch=700,lh=72,uh=128,fh="-",dh=/[^\x20-\x7E]/,ph=/[\x2E\u3002\uFF0E\uFF61]/g,gh={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},mh=sh-oh,yh=Math.floor,_h=String.fromCharCode,vh=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},bh=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},wh={parse:sn,resolve:cn,resolveObject:ln,format:an,Url:rn},kh=/^([a-z0-9.+-]+:)/i,Eh=/:[0-9]*$/,xh=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Sh=["<",">",'"',"`"," ","\r","\n","\t"],Th=["{","}","|","\\","^","`"].concat(Sh),Rh=["'"].concat(Th),Ah=["%","/","?",";","#"].concat(Rh),Ch=["/","?","#"],Oh=255,Nh=/^[+a-z0-9A-Z_-]{0,63}$/,Lh=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ph={javascript:!0,"javascript:":!0},Bh={javascript:!0,"javascript:":!0},Mh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};rn.prototype.parse=function(e,t,n){return on(this,e,t,n)},rn.prototype.format=function(){return hn(this)},rn.prototype.resolve=function(e){return this.resolveObject(sn(e,!1,!0)).format()},rn.prototype.resolveObject=function(e){if(St(e)){var t=new rn;t.parse(e,!1,!0),e=t}for(var n=new rn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var h=o[a];"protocol"!==h&&(n[h]=e[h])}return Mh[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}var c;if(e.protocol&&e.protocol!==n.protocol){if(!Mh[e.protocol]){for(var l=Object.keys(e),u=0;u<l.length;u++){var f=l[u];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Bh[e.protocol])n.pathname=e.pathname;else{for(c=(e.pathname||"").split("/");c.length&&!(e.host=c.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),n.pathname=c.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=m||g||n.host&&e.pathname,_=y,v=n.pathname&&n.pathname.split("/")||[],b=n.protocol&&!Mh[n.protocol];c=e.pathname&&e.pathname.split("/")||[],b&&(n.hostname="",n.port=null,n.host&&(""===v[0]?v[0]=n.host:v.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host=null),y=y&&(""===c[0]||""===v[0]));var w;if(m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,v=c;else if(c.length)v||(v=[]),v.pop(),v=v.concat(c),n.search=e.search,n.query=e.query;else if(!Et(e.search))return b&&(n.hostname=n.host=v.shift(),(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),n.search=e.search,n.query=e.query,kt(n.pathname)&&kt(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!v.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=v.slice(-1)[0],E=(n.host||e.host||v.length>1)&&("."===k||".."===k)||""===k,x=0,S=v.length;S>=0;S--)"."===(k=v[S])?v.splice(S,1):".."===k?(v.splice(S,1),x++):x&&(v.splice(S,1),x--);if(!y&&!_)for(;x--;x)v.unshift("..");!y||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),E&&"/"!==v.join("/").substr(-1)&&v.push("");var T=""===v[0]||v[0]&&"/"===v[0].charAt(0);return b&&(n.hostname=n.host=T?"":v.length?v.shift():"",(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift())),(y=y||n.host&&v.length)&&!T&&v.unshift(""),v.length?n.pathname=v.join("/"):(n.pathname=null,n.path=null),kt(n.pathname)&&kt(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},rn.prototype.parseHost=function(){return un(this)};var Ih,Dh,Uh=Object.freeze({parse:sn,resolve:cn,resolveObject:ln,format:an,default:wh,Url:rn}),zh=pn(Bo.fetch)&&pn(Bo.ReadableStream),jh=void 0!==Bo.ArrayBuffer,qh=jh&&pn(Bo.ArrayBuffer.prototype.slice),Hh=jh&&dn("arraybuffer"),Fh=!zh&&qh&&dn("ms-stream"),Zh=!zh&&jh&&dn("moz-chunked-arraybuffer"),Wh=pn(Dh.overrideMimeType),Yh=pn(Bo.VBArray);Dh=null;gn.prototype=Object.create(null),mn.EventEmitter=mn,mn.usingDomains=!1,mn.prototype.domain=void 0,mn.prototype._events=void 0,mn.prototype._maxListeners=void 0,mn.defaultMaxListeners=10,mn.init=function(){this.domain=null,mn.usingDomains&&(!(void 0).active||this instanceof(void 0).Domain||(this.domain=(void 0).active)),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new gn,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},mn.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},mn.prototype.getMaxListeners=function(){return yn(this)},mn.prototype.emit=function(e){var t,n,r,i,s,o,a,h="error"===e;if(o=this._events)h=h&&null==o.error;else if(!h)return!1;if(a=this.domain,h){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:_n(n,l,this);break;case 2:vn(n,l,this,arguments[1]);break;case 3:bn(n,l,this,arguments[1],arguments[2]);break;case 4:wn(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];kn(n,l,this,i)}return!0},mn.prototype.addListener=function(e,t){return En(this,e,t,!1)},mn.prototype.on=mn.prototype.addListener,mn.prototype.prependListener=function(e,t){return En(this,e,t,!0)},mn.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Sn(this,e,t)),this},mn.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Sn(this,e,t)),this},mn.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new gn:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new gn,this;delete r[e]}else Rn(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},mn.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new gn,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new gn:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),s=0;s<i.length;++s)"removeListener"!==(r=i[s])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new gn,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},mn.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:Cn(t):[]},mn.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Tn.call(e,t)},mn.prototype.listenerCount=Tn,mn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Vh=Object.freeze({default:mn,EventEmitter:mn});On.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},On.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},On.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},On.prototype.clear=function(){this.head=this.tail=null,this.length=0},On.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},On.prototype.concat=function(e){if(0===this.length)return de.alloc(0);if(1===this.length)return this.head.data;for(var t=de.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t};var Gh=Ra&&void 0||Ra,$h=q(function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t,n){return i(e,t,n)}var i=Gh.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=Gh:(n(Gh,t),t.Buffer=r),n(i,r),r.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},r.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},r.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Gh.SlowBuffer(e)}}).Buffer,Xh=$h.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Kh=Pn;Pn.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},Pn.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},Pn.prototype.text=function(e,t){var n=Mn(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},Pn.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Vn.ReadableState=Yn;var Jh=ct("stream");Aa(Vn,mn),Vn.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=de.from(e,t),t=""),Gn(this,n,e,t,!1)},Vn.prototype.unshift=function(e){return Gn(this,this._readableState,e,"",!0)},Vn.prototype.isPaused=function(){return!1===this._readableState.flowing},Vn.prototype.setEncoding=function(e){return this._readableState.decoder=new Kh(e),this._readableState.encoding=e,this};var Qh=8388608;Vn.prototype.read=function(e){Jh("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Jh("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?dr(this):er(this),null;if(0===(e=Kn(e,t))&&t.ended)return 0===t.length&&dr(this),null;var r=t.needReadable;Jh("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&Jh("length less than watermark",r=!0),t.ended||t.reading?Jh("reading or ended",r=!1):r&&(Jh("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Kn(n,t)));var i;return null===(i=e>0?cr(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&dr(this)),null!==i&&this.emit("data",i),i},Vn.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Vn.prototype.pipe=function(e,t){function n(e){Jh("onunpipe"),e===l&&i()}function r(){Jh("onend"),e.end()}function i(){Jh("cleanup"),e.removeListener("close",a),e.removeListener("finish",h),e.removeListener("drain",d),e.removeListener("error",o),e.removeListener("unpipe",n),l.removeListener("end",r),l.removeListener("end",i),l.removeListener("data",s),p=!0,!u.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}function s(t){Jh("ondata"),g=!1,!1!==e.write(t)||g||((1===u.pipesCount&&u.pipes===e||u.pipesCount>1&&-1!==mr(u.pipes,e))&&!p&&(Jh("false write response, pause",l._readableState.awaitDrain),l._readableState.awaitDrain++,g=!0),l.pause())}function o(t){Jh("onerror",t),c(),e.removeListener("error",o),0===Wn(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",h),c()}function h(){Jh("onfinish"),e.removeListener("close",a),c()}function c(){Jh("unpipe"),l.unpipe(e)}var l=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=e;break;case 1:u.pipes=[u.pipes,e];break;default:u.pipes.push(e)}u.pipesCount+=1,Jh("pipe count=%d opts=%j",u.pipesCount,t);var f=!t||!1!==t.end?r:i;u.endEmitted?G(f):l.once("end",f),e.on("unpipe",n);var d=ir(l);e.on("drain",d);var p=!1,g=!1;return l.on("data",s),Zn(e,"error",o),e.once("close",a),e.once("finish",h),e.emit("pipe",l),u.flowing||(Jh("pipe resume"),l.resume()),e},Vn.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var s=mr(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Vn.prototype.on=function(e,t){var n=mn.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&er(this):G(sr,this))}return n},Vn.prototype.addListener=Vn.prototype.on,Vn.prototype.resume=function(){var e=this._readableState;return e.flowing||(Jh("resume"),e.flowing=!0,or(this,e)),this},Vn.prototype.pause=function(){return Jh("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Jh("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Vn.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(Jh("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){Jh("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return gr(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){Jh("wrapped _read",t),n&&(n=!1,e.resume())},r},Vn._fromList=cr,br.WritableState=vr,Aa(br,mn),vr.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},br.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},br.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),de.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=yr),r.ended?wr(this,n):kr(this,r,e,n)&&(r.pendingcb++,i=xr(this,r,e,t,n)),i},br.prototype.cork=function(){this._writableState.corked++},br.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||Nr(this,e))},br.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},br.prototype._write=function(e,t,n){n(new Error("not implemented"))},br.prototype._writev=null,br.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||Mr(this,r,n)},Aa(Dr,Vn);for(var ec=Object.keys(br.prototype),tc=0;tc<ec.length;tc++){var nc=ec[tc];Dr.prototype[nc]||(Dr.prototype[nc]=br.prototype[nc])}Aa(Hr,Dr),Hr.prototype.push=function(e,t){return this._transformState.needTransform=!1,Dr.prototype.push.call(this,e,t)},Hr.prototype._transform=function(e,t,n){throw new Error("Not implemented")},Hr.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Hr.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Aa(Zr,Hr),Zr.prototype._transform=function(e,t,n){n(null,e)},Aa(Wr,mn),Wr.Readable=Vn,Wr.Writable=br,Wr.Duplex=Dr,Wr.Transform=Hr,Wr.PassThrough=Zr,Wr.Stream=Wr,Wr.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&h.pause&&h.pause()}function r(){h.readable&&h.resume&&h.resume()}function i(){c||(c=!0,e.end())}function s(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function o(e){if(a(),0===mn.listenerCount(this,"error"))throw e}function a(){h.removeListener("data",n),e.removeListener("drain",r),h.removeListener("end",i),h.removeListener("close",s),h.removeListener("error",o),e.removeListener("error",o),h.removeListener("end",a),h.removeListener("close",a),e.removeListener("close",a)}var h=this;h.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(h.on("end",i),h.on("close",s));var c=!1;return h.on("error",o),e.on("error",o),h.on("end",a),h.on("close",a),e.on("close",a),e.emit("pipe",h),e};var rc={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};Aa(Yr,Vn),Yr.prototype._read=function(){},Yr.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==rc.DONE)break;try{n=new Bo.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new de(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var r=n.substr(e._pos);if("x-user-defined"===e._charset){for(var i=new de(r.length),s=0;s<r.length;s++)i[s]=255&r.charCodeAt(s);e.push(i)}else e.push(r,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==rc.DONE||!t.response)break;n=t.response,e.push(new de(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==rc.LOADING||!n)break;e.push(new de(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==rc.LOADING)break;var o=new Bo.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new de(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(n)}e._xhr.readyState===rc.DONE&&"ms-stream"!==e._mode&&e.push(null)};var ic=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(it(e)){for(var t=new Uint8Array(e.length),n=e.length,r=0;r<n;r++)t[r]=e[r];return t.buffer}throw new Error("Argument must be a Buffer")};Aa(Gr,br);var sc=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];Gr.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===sc.indexOf(r)&&(n._headers[r]={name:e,value:t})},Gr.prototype.getHeader=function(e){return this._headers[e.toLowerCase()].value},Gr.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},Gr.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,n=e._opts,r=e._headers;if("POST"!==n.method&&"PUT"!==n.method&&"PATCH"!==n.method||(t=fn()?new Bo.Blob(e._body.map(function(e){return ic(e)}),{type:(r["content-type"]||{}).value||""}):de.concat(e._body).toString()),"fetch"===e._mode){var i=Object.keys(r).map(function(e){return[r[e].name,r[e].value]});Bo.fetch(e._opts.url,{method:e._opts.method,headers:i,body:t,mode:"cors",credentials:n.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)})}else{var s=e._xhr=new Bo.XMLHttpRequest;try{s.open(e._opts.method,e._opts.url,!0)}catch(t){return void G(function(){e.emit("error",t)})}"responseType"in s&&(s.responseType=e._mode.split(":")[0]),"withCredentials"in s&&(s.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(r).forEach(function(e){s.setRequestHeader(r[e].name,r[e].value)}),e._response=null,s.onreadystatechange=function(){switch(s.readyState){case rc.LOADING:case rc.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(s.onprogress=function(){e._onXHRProgress()}),s.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{s.send(t)}catch(t){return void G(function(){e.emit("error",t)})}}}},Gr.prototype._onXHRProgress=function(){var e=this;$r(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},Gr.prototype._connect=function(){var e=this;e._destroyed||(e._response=new Yr(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},Gr.prototype._write=function(e,t,n){this._body.push(e),n()},Gr.prototype.abort=Gr.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},Gr.prototype.end=function(e,t,n){var r=this;"function"==typeof e&&(n=e,e=void 0),br.prototype.end.call(r,e,t,n)},Gr.prototype.flushHeaders=function(){},Gr.prototype.setTimeout=function(){},Gr.prototype.setNoDelay=function(){},Gr.prototype.setSocketKeepAlive=function(){},Jr.defaultMaxSockets=4;var oc=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],ac={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},hc={request:Xr,get:Kr,Agent:Jr,METHODS:oc,STATUS_CODES:ac},cc=Object.freeze({request:Xr,get:Kr,Agent:Jr,METHODS:oc,STATUS_CODES:ac,default:hc}),lc=Uh&&wh||Uh,uc=cc&&hc||cc,fc=Ua.spawn,dc=Qr;Qr.XMLHttpRequest=Qr;var pc=q(function(e,t){!function(n){function r(e){for(var t,n,r=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function i(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=m(t);return i}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(e,t){return m(e>>t&63|128)}function a(e,t){if(0==(4294967168&e))return m(e);var n="";return 0==(4294965248&e)?n=m(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=m(e>>12&15|224),n+=o(e,6)):0==(4292870144&e)&&(n=m(e>>18&7|240),n+=o(e,12),n+=o(e,6)),n+=m(63&e|128)}function h(){if(g>=p)throw Error("Invalid byte index");var e=255&d[g];if(g++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(e){var t,n,r,i,o;if(g>p)throw Error("Invalid byte index");if(g==p)return!1;if(t=255&d[g],g++,0==(128&t))return t;if(192==(224&t)){if(n=h(),(o=(31&t)<<6|n)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(n=h(),r=h(),(o=(15&t)<<12|n<<6|r)>=2048)return s(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=h(),r=h(),i=h(),(o=(7&t)<<18|n<<12|r<<6|i)>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}var l=t,u=e&&e.exports==l&&e,f="object"==typeof Bo&&Bo;f.global!==f&&f.window!==f||(n=f);var d,p,g,m=String.fromCharCode,y={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,i=r(e),s=i.length,o=-1,h="";++o<s;)h+=a(i[o],n);return h},decode:function(e,t){var n=!1!==(t=t||{}).strict;d=r(e),p=d.length,g=0;for(var s,o=[];!1!==(s=c(n));)o.push(s);return i(o)}};if(l&&!l.nodeType)if(u)u.exports=y;else{var _={}.hasOwnProperty;for(var v in y)_.call(y,v)&&(l[v]=y[v])}else n.utf8=y}(this)}),gc=function(e,t,n){function r(e,s){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(i=!0,t(e),t=n):0!==r.count||i||t(null,s)}var i=!1;return n=n||ei,r.count=e,0===e?t():r},mc=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},yc=q(function(e,t){function n(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,s=new de(1);return s[0]=l[e.type],r(de.concat([s,i]))}function r(e){try{e=pc.decode(e,{strict:!1})}catch(e){return!1}return e}function i(e){return e.length+":"+e}function s(e,t,n){for(var r=new Array(e.length),i=gc(e.length,n),s=0;s<e.length;s++)t(e[s],function(e,t){r[s]=t,i(e,r)})}function o(e){for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);return t}function a(e){for(var t=new de(e.length),n=0,r=e.length;n<r;n++)t.writeUInt8(e.charCodeAt(n),n);return t}function h(e){for(var t=new Uint8Array(e.buffer||e),n=e.byteLength||e.length,r=e.byteOffset||0,i=new de(n),s=0;s<n;s++)i[s]=t[r+s];return i}function c(e,n){t.encodePacket(e,!0,!0,function(e){var t,r=""+e.length;if("string"==typeof e){for((t=new de(r.length+2))[0]=0,i=0;i<r.length;i++)t[i+1]=parseInt(r[i],10);return t[t.length-1]=255,n(null,de.concat([t,a(e)]))}(t=new de(r.length+2))[0]=1;for(var i=0;i<r.length;i++)t[i+1]=parseInt(r[i],10);t[t.length-1]=255,n(null,de.concat([t,e]))})}t.protocol=3;var l=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},u=mc(l),f={type:"error",data:"parser error"};t.encodePacket=function(e,t,r,i){if("function"==typeof t&&(i=t,t=null),"function"==typeof r&&(i=r,r=null),it(e.data))return n(e,t,i);if(e.data&&(e.data.buffer||e.data)instanceof ArrayBuffer)return e.data=h(e.data),n(e,t,i);var s=l[e.type];return void 0!==e.data&&(s+=r?pc.encode(String(e.data),{strict:!1}):String(e.data)),i(""+s)},t.encodeBase64Packet=function(e,t){it(e.data)||(e.data=h(e.data));var n="b"+l[e.type];return n+=e.data.toString("base64"),t(n)},t.decodePacket=function(e,n,i){if(void 0===e)return f;var s;if("string"==typeof e)return"b"===(s=e.charAt(0))?t.decodeBase64Packet(e.substr(1),n):i&&!1===(e=r(e))?f:Number(s)==s&&u[s]?e.length>1?{type:u[s],data:e.substring(1)}:{type:u[s]}:f;if("arraybuffer"===n){var o=new Uint8Array(e);return s=o[0],{type:u[s],data:o.buffer.slice(1)}}return e instanceof ArrayBuffer&&(e=h(e)),s=e[0],{type:u[s],data:e.slice(1)}},t.decodeBase64Packet=function(e,t){var n=u[e.charAt(0)],r=new de(e.substr(1),"base64");if("arraybuffer"===t){for(var i=new Uint8Array(r.length),s=0;s<i.length;s++)i[s]=r[s];r=i.buffer}return{type:n,data:r}},t.encodePayload=function(e,n,r){return"function"==typeof n&&(r=n,n=null),n&&$a(e)?t.encodePayloadAsBinary(e,r):e.length?void s(e,function(e,r){t.encodePacket(e,n,!1,function(e){r(null,i(e))})},function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);if("function"==typeof n&&(r=n,n=null),""===e)return r(f,0,1);for(var i,s,o,a="",h=0,c=e.length;h<c;h++){var l=e.charAt(h);if(":"===l){if(""===a||a!=(i=Number(a)))return r(f,0,1);if(s=e.substr(h+1,i),a!=s.length)return r(f,0,1);if(s.length){if(o=t.decodePacket(s,n,!1),f.type===o.type&&f.data===o.data)return r(f,0,1);if(!1===r(o,h+i,c))return}h+=i,a=""}else a+=l}return""!==a?r(f,0,1):void 0},t.encodePayloadAsBinary=function(e,t){if(!e.length)return t(new de(0));s(e,c,function(e,n){return t(de.concat(n))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i,s=e,a=[];s.length>0;){var h="",c=0===s[0];for(i=1;255!==s[i];i++){if(h.length>310)return r(f,0,1);h+=""+s[i]}s=s.slice(h.length+1);var l=parseInt(h,10),u=s.slice(1,l+1);c&&(u=o(u)),a.push(u),s=s.slice(l+1)}var d=a.length;for(i=0;i<d;i++){var p=a[i];r(t.decodePacket(p,n,!0),i,d)}}}),_c=ti;Fa(ti.prototype),ti.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},ti.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},ti.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},ti.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},ti.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},ti.prototype.onData=function(e){var t=yc.decodePacket(e,this.socket.binaryType);this.onPacket(t)},ti.prototype.onPacket=function(e){this.emit("packet",e)},ti.prototype.onClose=function(){this.readyState="closed",this.emit("close")};for(var vc,bc={encode:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},decode:function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},wc=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},kc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ec=64,xc={},Sc=0,Tc=0;Tc<Ec;Tc++)xc[kc[Tc]]=Tc;ri.encode=ni,ri.decode=function(e){var t=0;for(Tc=0;Tc<e.length;Tc++)t=t*Ec+xc[e.charAt(Tc)];return t};var Rc=ri,Ac=ja("engine.io-client:polling"),Cc=ii,Oc=null!=new dc({xdomain:!1}).responseType;wc(ii,_c),ii.prototype.name="polling",ii.prototype.doOpen=function(){this.poll()},ii.prototype.pause=function(e){function t(){Ac("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(Ac("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Ac("pre-pause polling complete"),--r||t()})),this.writable||(Ac("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Ac("pre-pause writing complete"),--r||t()}))}else t()},ii.prototype.poll=function(){Ac("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},ii.prototype.onData=function(e){var t=this;Ac("polling got data %s",e);yc.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Ac('ignoring poll - transport state "%s"',this.readyState))},ii.prototype.doClose=function(){function e(){Ac("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(Ac("transport open - closing"),e()):(Ac("transport not open - deferring close"),this.once("open",e))},ii.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};yc.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},ii.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=Rc()),this.supportsBinary||e.sid||(e.b64=1),e=bc.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var Nc=ja("engine.io-client:polling-xhr"),Lc=oi,Pc=ai;wc(oi,Cc),oi.prototype.supportsBinary=!0,oi.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new ai(e)},oi.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},oi.prototype.doPoll=function(){Nc("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},Fa(ai.prototype),ai.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new dc(e),n=this;try{Nc("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState){var e;try{e=t.getResponseHeader("Content-Type")}catch(e){}"application/octet-stream"===e&&(t.responseType="arraybuffer")}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},Nc("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}Bo.document&&(this.index=ai.requestsCount++,ai.requests[this.index]=this)},ai.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},ai.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},ai.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},ai.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=si:this.xhr.onreadystatechange=si,e)try{this.xhr.abort()}catch(e){}Bo.document&&delete ai.requests[this.index],this.xhr=null}},ai.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},ai.prototype.hasXDR=function(){return void 0!==Bo.XDomainRequest&&!this.xs&&this.enablesXDR},ai.prototype.abort=function(){this.cleanup()},ai.requestsCount=0,ai.requests={},Bo.document&&(Bo.attachEvent?Bo.attachEvent("onunload",hi):Bo.addEventListener&&Bo.addEventListener("beforeunload",hi,!1)),Lc.Request=Pc;var Bc,Mc=li,Ic=/\n/g,Dc=/\\n/g;wc(li,Cc),li.prototype.supportsBinary=!1,li.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Cc.prototype.doClose.call(this)},li.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},li.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';s=document.createElement(e)}catch(e){(s=document.createElement("iframe")).name=i.iframeId,s.src="javascript:0"}s.id=i.iframeId,i.form.appendChild(s),i.iframe=s}var i=this;if(!this.form){var s,o=document.createElement("form"),a=document.createElement("textarea"),h=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=h,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}this.form.action=this.uri(),r(),e=e.replace(Dc,"\\\n"),this.area.value=e.replace(Ic,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n};var Uc=Object.prototype.hasOwnProperty,zc=0;ui.prototype.on=function(e,t,n){return t.__ultron=this.id,this.ee.on(e,t,n),this},ui.prototype.once=function(e,t,n){return t.__ultron=this.id,this.ee.once(e,t,n),this},ui.prototype.remove=function(){var e,t=arguments,n=this.ee;if(1===t.length&&"string"==typeof t[0])t=t[0].split(/[, ]+/);else if(!t.length)if(n.eventNames)t=n.eventNames();else if(n._events){t=[];for(e in n._events)Uc.call(n._events,e)&&t.push(e);Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n._events)))}for(var r=0;r<t.length;r++)for(var i=n.listeners(t[r]),s=0;s<i.length;s++){if((e=i[s]).listener){if(e.listener.__ultron!==this.id)continue;delete e.listener.__ultron}else{if(e.__ultron!==this.id)continue;delete e.__ultron}n.removeListener(t[r],e)}return this},ui.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)};var jc=ui,qc=q(function(e,t){function n(e,t,n){return de(e,t,n)}de.from&&de.alloc&&de.allocUnsafe&&de.allocUnsafeSlow?e.exports=Gh:(Object.keys(Gh).forEach(function(e){t[e]=Gh[e]}),t.Buffer=n),Object.keys(de).forEach(function(e){n[e]=de[e]}),n.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return de(e,t,n)},n.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=de(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return de(e)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Gh.SlowBuffer(e)}}),Hc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fc=Uint8Array,Zc=Uint16Array,Wc=Int32Array,Yc=4,Vc=0,Gc=1,$c=2,Xc=0,Kc=1,Jc=2,Qc=29,el=256,tl=el+1+Qc,nl=30,rl=19,il=2*tl+1,sl=15,ol=16,al=7,hl=256,cl=16,ll=17,ul=18,fl=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],dl=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],gl=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ml=new Array(2*(tl+2));pi(ml);var yl=new Array(2*nl);pi(yl);var _l=new Array(512);pi(_l);var vl=new Array(256);pi(vl);var bl=new Array(Qc);pi(bl);var wl=new Array(nl);pi(wl);var kl,El,xl,Sl,Tl=!1,Rl=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}(),Al=0,Cl=1,Ol=3,Nl=4,Ll=5,Pl=0,Bl=1,Ml=-2,Il=-3,Dl=-5,Ul=-1,zl=1,jl=2,ql=3,Hl=4,Fl=2,Zl=8,Wl=9,Yl=286,Vl=30,Gl=19,$l=2*Yl+1,Xl=15,Kl=3,Jl=258,Ql=Jl+Kl+1,eu=32,tu=42,nu=69,ru=73,iu=91,su=103,ou=113,au=666,hu=1,cu=2,lu=3,uu=4,fu=3;Sl=[new ss(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(es(e),0===e.lookahead&&t===Al)return hu;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,$i(e,!1),0===e.strm.avail_out))return hu;if(e.strstart-e.block_start>=e.w_size-Ql&&($i(e,!1),0===e.strm.avail_out))return hu}return e.insert=0,t===Nl?($i(e,!0),0===e.strm.avail_out?lu:uu):(e.strstart>e.block_start&&($i(e,!1),e.strm.avail_out),hu)}),new ss(4,4,8,4,ts),new ss(4,5,16,8,ts),new ss(4,6,32,32,ts),new ss(4,4,16,16,ns),new ss(8,16,32,32,ns),new ss(8,16,128,128,ns),new ss(8,32,128,256,ns),new ss(32,128,258,1024,ns),new ss(32,258,258,4096,ns)];var du,pu,gu=30,mu=12,yu=15,_u=852,vu=592,bu=0,wu=1,ku=2,Eu=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],xu=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Su=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Tu=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Ru=0,Au=1,Cu=2,Ou=4,Nu=5,Lu=6,Pu=0,Bu=1,Mu=2,Iu=-2,Du=-3,Uu=-4,zu=-5,ju=8,qu=1,Hu=2,Fu=3,Zu=4,Wu=5,Yu=6,Vu=7,Gu=8,$u=9,Xu=10,Ku=11,Ju=12,Qu=13,ef=14,tf=15,nf=16,rf=17,sf=18,of=19,af=20,hf=21,cf=22,lf=23,uf=24,ff=25,df=26,pf=27,gf=28,mf=29,yf=30,_f=31,vf=32,bf=852,wf=592,kf=!0,Ef=1,xf=7;Ss.prototype.init=function(e,t,n,r,i){this.windowBits=e,this.level=t,this.memLevel=n,this.strategy=r,3!==this.mode&&4!==this.mode||(this.windowBits+=16),this.mode===xf&&(this.windowBits+=32),5!==this.mode&&6!==this.mode||(this.windowBits=-this.windowBits),this.strm=new fi;var s;switch(this.mode){case Ef:case 3:case 5:s=ls(this.strm,this.level,8,this.windowBits,this.memLevel,this.strategy);break;case 2:case 4:case 6:case xf:s=bs(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}0===s?(this.write_in_progress=!1,this.init_done=!0):this._error(s)},Ss.prototype.params=function(){throw new Error("deflateParams Not supported")},Ss.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(0===this.mode)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Ss.prototype.write=function(e,t,n,r,i,s,o){this._writeCheck(),this.write_in_progress=!0;var a=this;return G(function(){a.write_in_progress=!1;var h=a._write(e,t,n,r,i,s,o);a.callback(h[0],h[1]),a.pending_close&&a.close()}),this},Ss.prototype.writeSync=function(e,t,n,r,i,s,o){return this._writeCheck(),this._write(e,t,n,r,i,s,o)},Ss.prototype._write=function(e,t,n,r,i,s,o){if(this.write_in_progress=!0,0!==e&&1!==e&&2!==e&&3!==e&&4!==e&&5!==e)throw new Error("Invalid flush value");null==t&&(t=new de(0),r=0,n=0),i._set?i.set=i._set:i.set=Ts;var a=this.strm;a.avail_in=r,a.input=t,a.next_in=n,a.avail_out=o,a.output=i,a.next_out=s;var h;switch(this.mode){case Ef:case 3:case 5:h=us(a,e);break;case xf:case 2:case 4:case 6:h=Es(a,e);break;default:throw new Error("Unknown mode "+this.mode)}return 1!==h&&0!==h&&this._error(h),this.write_in_progress=!1,[a.avail_in,a.avail_out]},Ss.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,this.mode===Ef||3===this.mode||5===this.mode?fs(this.strm):xs(this.strm),this.mode=0)};var Sf;Ss.prototype.reset=function(){switch(this.mode){case Ef:case 5:Sf=cs(this.strm);break;case 2:case 6:Sf=_s(this.strm)}0!==Sf&&this._error(Sf)},Ss.prototype._error=function(e){this.onerror(Hc[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};var Tf=Object.freeze({NONE:0,DEFLATE:Ef,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:xf,Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8,Zlib:Ss}),Rf={};Object.keys(Tf).forEach(function(e){Rf[e]=Tf[e]}),Rf.Z_MIN_WINDOWBITS=8,Rf.Z_MAX_WINDOWBITS=15,Rf.Z_DEFAULT_WINDOWBITS=15,Rf.Z_MIN_CHUNK=64,Rf.Z_MAX_CHUNK=1/0,Rf.Z_DEFAULT_CHUNK=16384,Rf.Z_MIN_MEMLEVEL=1,Rf.Z_MAX_MEMLEVEL=9,Rf.Z_DEFAULT_MEMLEVEL=8,Rf.Z_MIN_LEVEL=-1,Rf.Z_MAX_LEVEL=9,Rf.Z_DEFAULT_LEVEL=Rf.Z_DEFAULT_COMPRESSION;var Af={Z_OK:Rf.Z_OK,Z_STREAM_END:Rf.Z_STREAM_END,Z_NEED_DICT:Rf.Z_NEED_DICT,Z_ERRNO:Rf.Z_ERRNO,Z_STREAM_ERROR:Rf.Z_STREAM_ERROR,Z_DATA_ERROR:Rf.Z_DATA_ERROR,Z_MEM_ERROR:Rf.Z_MEM_ERROR,Z_BUF_ERROR:Rf.Z_BUF_ERROR,Z_VERSION_ERROR:Rf.Z_VERSION_ERROR};Object.keys(Af).forEach(function(e){Af[Af[e]]=e}),Aa(io,Hr),io.prototype.params=function(e,t,n){if(e<Rf.Z_MIN_LEVEL||e>Rf.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=Rf.Z_FILTERED&&t!=Rf.Z_HUFFMAN_ONLY&&t!=Rf.Z_RLE&&t!=Rf.Z_FIXED&&t!=Rf.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var r=this;this.flush(Rf.Z_SYNC_FLUSH,function(){r._binding.params(e,t),r._hadError||(r._level=e,r._strategy=t,n&&n())})}else G(n)},io.prototype.reset=function(){return this._binding.reset()},io.prototype._flush=function(e){this._transform(new de(0),"",e)},io.prototype.flush=function(e,t){var n=this._writableState;if(("function"==typeof e||void 0===e&&!t)&&(t=e,e=Rf.Z_FULL_FLUSH),n.ended)t&&G(t);else if(n.ending)t&&this.once("end",t);else if(n.needDrain){var r=this;this.once("drain",function(){r.flush(t)})}else this._flushFlag=e,this.write(new de(0),"",t)},io.prototype.close=function(e){if(e&&G(e),!this._closed){this._closed=!0,this._binding.close();var t=this;G(function(){t.emit("close")})}},io.prototype._transform=function(e,t,n){var r,i=this._writableState,s=(i.ending||i.ended)&&(!e||i.length===e.length);if(null===!e&&!it(e))return n(new Error("invalid input"));s?r=Rf.Z_FINISH:(r=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||Rf.Z_NO_FLUSH)),this._processChunk(e,r,n)},io.prototype._processChunk=function(e,t,n){function r(c,f){if(!a._hadError){var d=s-f;if(Rs(d>=0,"have should not go down"),d>0){var p=a._buffer.slice(a._offset,a._offset+d);a._offset+=d,h?a.push(p):(l.push(p),u+=p.length)}if((0===f||a._offset>=a._chunkSize)&&(s=a._chunkSize,a._offset=0,a._buffer=new de(a._chunkSize)),0===f){if(o+=i-c,i=c,!h)return!0;var g=a._binding.write(t,e,o,i,a._buffer,a._offset,a._chunkSize);return g.callback=r,void(g.buffer=e)}if(!h)return!1;n()}}var i=e&&e.length,s=this._chunkSize-this._offset,o=0,a=this,h="function"==typeof n;if(!h){var c,l=[],u=0;this.on("error",function(e){c=e});do{var f=this._binding.writeSync(t,e,o,i,this._buffer,this._offset,s)}while(!this._hadError&&r(f[0],f[1]));if(this._hadError)throw c;var d=de.concat(l,u);return this.close(),d}var p=this._binding.write(t,e,o,i,this._buffer,this._offset,s);p.buffer=e,p.callback=r},Aa(Ks,io),Aa(Js,io),Aa(Qs,io),Aa(eo,io),Aa(to,io),Aa(no,io),Aa(ro,io);var Cf={codes:Af,createDeflate:As,createInflate:Cs,createDeflateRaw:Os,createInflateRaw:Ns,createGzip:Ls,createGunzip:Ps,createUnzip:Bs,deflate:Ms,deflateSync:Is,gzip:Ds,gzipSync:Us,deflateRaw:zs,deflateRawSync:js,unzip:qs,unzipSync:Hs,inflate:Fs,inflateSync:Zs,gunzip:Ws,gunzipSync:Ys,inflateRaw:Vs,inflateRawSync:Gs,Deflate:Ks,Inflate:Js,Gzip:Qs,Gunzip:eo,DeflateRaw:to,InflateRaw:no,Unzip:ro,Zlib:io},Of=Object.freeze({codes:Af,createDeflate:As,createInflate:Cs,createDeflateRaw:Os,createInflateRaw:Ns,createGzip:Ls,createGunzip:Ps,createUnzip:Bs,deflate:Ms,deflateSync:Is,gzip:Ds,gzipSync:Us,deflateRaw:zs,deflateRawSync:js,unzip:qs,unzipSync:Hs,inflate:Fs,inflateSync:Zs,gunzip:Ws,gunzipSync:Ys,inflateRaw:Vs,inflateRawSync:Gs,Deflate:Ks,Inflate:Js,Gzip:Qs,Gunzip:eo,DeflateRaw:to,InflateRaw:no,Unzip:ro,Zlib:io,default:Cf}),Nf=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Lf=function(e){return Nf.exec(e).slice(1)},Pf={extname:po,basename:fo,dirname:uo,sep:"/",delimiter:":",relative:lo,join:co,isAbsolute:ho,normalize:ao,resolve:oo},Bf="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)},Mf=Object.freeze({resolve:oo,normalize:ao,isAbsolute:ho,join:co,relative:lo,sep:"/",delimiter:":",dirname:uo,basename:fo,extname:po,default:Pf}),If=Mf&&Pf||Mf,Df=q(function(e,t){var n=If.join,r=If.dirname,i=Ua.existsSync||If.existsSync,s={arrow:sa.env.NODE_BINDINGS_ARROW||" → ",compiled:sa.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:sa.platform,arch:sa.arch,version:sa.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"]]};e.exports=t=function(e){"string"==typeof e?e={bindings:e}:e||(e={}),e.__proto__=s,e.module_root||(e.module_root=t.getRoot(t.getFileName())),".node"!=If.extname(e.bindings)&&(e.bindings+=".node");for(var r,i,o,a=[],h=0,c=e.try.length;h<c;h++){r=n.apply(null,e.try[h].map(function(t){return e[t]||t})),a.push(r);try{return i=e.path?j.resolve(r):j(r),e.path||(i.path=r),i}catch(e){if(!/not find/i.test(e.message))throw e}}throw o=new Error("Could not locate the bindings file. Tried:\n"+a.map(function(t){return e.arrow+t}).join("\n")),o.tries=a,o},t.getFileName=function(e){var t,n=Error.prepareStackTrace,r=Error.stackTraceLimit,i={};return Error.stackTraceLimit=10,Error.prepareStackTrace=function(n,r){for(var i=0,s=r.length;i<s;i++)if("/Users/Max/Documents/nus-natcon-2017/node_modules/bindings/bindings.js"!==(t=r[i].getFileName())){if(!e)return;if(t!==e)return}},Error.captureStackTrace(i),Error.prepareStackTrace=n,Error.stackTraceLimit=r,t},t.getRoot=function(e){for(var t,s=r(e);;){if("."===s&&(s=sa.cwd()),i(n(s,"package.json"))||i(n(s,"node_modules")))return s;if(t===s)throw new Error('Could not find module root given file: "'+e+'". Do you have a `package.json` file? ');t=s,s=n(s,"..")}}});var Uf={mask:(e,t,n,r,i)=>{for(var s=0;s<i;s++)n[r+s]=e[s]^t[3&s]},unmask:(e,t)=>{const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}},zf=q(function(e){try{e.exports=Df("bufferutil")}catch(t){e.exports=Uf}}),jf=q(function(e){const t=qc.Buffer,n=(e,n)=>{const r=t.allocUnsafe(n);for(var i=0,s=0;s<e.length;s++){const t=e[s];t.copy(r,i),i+=t.length}return r};try{const t=zf;e.exports=Object.assign({concat:n},t.BufferUtil||t)}catch(t){const r=(e,t,n,r,i)=>{for(var s=0;s<i;s++)n[r+s]=e[s]^t[3&s]},i=(e,t)=>{const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]};e.exports={concat:n,mask:r,unmask:i}}}),qf=Of&&Cf||Of;const Hf=qc.Buffer,Ff=[8,9,10,11,12,13,14,15],Zf=Hf.from([0,0,255,255]),Wf=Hf.from([0]),Yf=15,Vf=8;class Gf{constructor(e,t,n){this._options=e||{},this._isServer=!!t,this._inflate=null,this._deflate=null,this.params=null,this._maxPayload=n||0,this.threshold=void 0===this._options.threshold?1024:this._options.threshold}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){e=this.normalizeParams(e);var t;return t=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params=t,t}cleanup(){this._inflate&&(this._inflate.writeInProgress?this._inflate.pendingClose=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate.writeInProgress?this._deflate.pendingClose=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(e){const t={};if(!e.some(e=>{if(!(!1===this._options.serverNoContextTakeover&&e.server_no_context_takeover||!1===this._options.serverMaxWindowBits&&e.server_max_window_bits||"number"==typeof this._options.serverMaxWindowBits&&"number"==typeof e.server_max_window_bits&&this._options.serverMaxWindowBits>e.server_max_window_bits||"number"==typeof this._options.clientMaxWindowBits&&!e.client_max_window_bits))return(this._options.serverNoContextTakeover||e.server_no_context_takeover)&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),!1!==this._options.clientNoContextTakeover&&e.client_no_context_takeover&&(t.client_no_context_takeover=!0),"number"==typeof this._options.serverMaxWindowBits?t.server_max_window_bits=this._options.serverMaxWindowBits:"number"==typeof e.server_max_window_bits&&(t.server_max_window_bits=e.server_max_window_bits),"number"==typeof this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:!1!==this._options.clientMaxWindowBits&&"number"==typeof e.client_max_window_bits&&(t.client_max_window_bits=e.client_max_window_bits),!0}))throw new Error(`Doesn't support the offered configuration`);return t}acceptAsClient(e){const t=e[0];if(null!=this._options.clientNoContextTakeover&&!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Invalid value for "client_no_context_takeover"');if(null!=this._options.clientMaxWindowBits){if(!1===this._options.clientMaxWindowBits&&t.client_max_window_bits)throw new Error('Invalid value for "client_max_window_bits"');if("number"==typeof this._options.clientMaxWindowBits&&(!t.client_max_window_bits||t.client_max_window_bits>this._options.clientMaxWindowBits))throw new Error('Invalid value for "client_max_window_bits"')}return t}normalizeParams(e){return e.map(e=>(Object.keys(e).forEach(t=>{var n=e[t];if(n.length>1)throw new Error(`Multiple extension parameters for ${t}`);switch(n=n[0],t){case"server_no_context_takeover":case"client_no_context_takeover":if(!0!==n)throw new Error(`invalid extension parameter value for ${t} (${n})`);e[t]=!0;break;case"server_max_window_bits":case"client_max_window_bits":if("string"==typeof n&&(n=parseInt(n,10),!~Ff.indexOf(n)))throw new Error(`invalid extension parameter value for ${t} (${n})`);if(!this._isServer&&!0===n)throw new Error(`Missing extension parameter value for ${t}`);e[t]=n;break;default:throw new Error(`Not defined extension parameter (${t})`)}}),e))}decompress(e,t,n){const r=this._isServer?"client":"server";if(!this._inflate){const e=this.params[`${r}_max_window_bits`];this._inflate=qf.createInflateRaw({windowBits:"number"==typeof e?e:Yf})}this._inflate.writeInProgress=!0;var i=0;const s=[];var o;const a=e=>{if(i+=e.length,this._maxPayload<1||i<=this._maxPayload)return s.push(e);(o=new Error("max payload size exceeded")).closeCode=1009,this._inflate.reset()},h=e=>{c(),n(e)},c=()=>{this._inflate&&(this._inflate.removeListener("error",h),this._inflate.removeListener("data",a),this._inflate.writeInProgress=!1,(t&&this.params[`${r}_no_context_takeover`]||this._inflate.pendingClose)&&(this._inflate.close(),this._inflate=null))};this._inflate.on("error",h).on("data",a),this._inflate.write(e),t&&this._inflate.write(Zf),this._inflate.flush(()=>{c(),o?n(o):n(null,jf.concat(s,i))})}compress(e,t,n){if(!e||0===e.length)return void G(n,null,Wf);const r=this._isServer?"server":"client";if(!this._deflate){const e=this.params[`${r}_max_window_bits`];this._deflate=qf.createDeflateRaw({flush:qf.Z_SYNC_FLUSH,windowBits:"number"==typeof e?e:Yf,memLevel:this._options.memLevel||Vf})}this._deflate.writeInProgress=!0;var i=0;const s=[],o=e=>{i+=e.length,s.push(e)},a=e=>{h(),n(e)},h=()=>{this._deflate&&(this._deflate.removeListener("error",a),this._deflate.removeListener("data",o),this._deflate.writeInProgress=!1,(t&&this.params[`${r}_no_context_takeover`]||this._deflate.pendingClose)&&(this._deflate.close(),this._deflate=null))};this._deflate.on("error",a).on("data",o),this._deflate.write(e),this._deflate.flush(qf.Z_SYNC_FLUSH,()=>{h();var e=jf.concat(s,i);t&&(e=e.slice(0,e.length-4)),n(null,e)})}}var $f=Gf;class Xf{constructor(e,t){this.target=t,this.type=e}}class Kf extends Xf{constructor(e,t,n){super("message",n),this.binary=t,this.data=e}}class Jf extends Xf{constructor(e,t,n){super("close",n),this.wasClean=void 0===e||1e3===e,this.reason=t,this.target=n,this.type="close",this.code=e}}class Qf extends Xf{constructor(e){super("open",e)}}var ed={addEventListener(e,t){function n(e,n){t.call(this,new Kf(e,!!n.binary,this))}function r(e,n){t.call(this,new Jf(e,n,this))}function i(e){e.type="error",e.target=this,t.call(this,e)}function s(){t.call(this,new Qf(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(r._listener=t,this.on(e,r)):"error"===e?(i._listener=t,this.on(e,i)):"open"===e?(s._listener=t,this.on(e,s)):this.on(e,t))},removeEventListener(e,t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}},td=q(function(e){e.exports={format:e=>Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", "),parse:e=>{const t={};return(e=e||"").split(",").forEach(e=>{const n=e.split(";"),r=n.shift().trim(),i=t[r]=t[r]||[],s={};n.forEach(e=>{const t=e.trim().split("="),n=t[0];var r=t[1];void 0===r?r=!0:('"'===r[0]&&(r=r.slice(1)),'"'===r[r.length-1]&&(r=r.slice(0,r.length-1))),(s[n]=s[n]||[]).push(r)}),i.push(s)}),t}}}),nd={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",EMPTY_BUFFER:qc.Buffer.alloc(0),NOOP:()=>{}},rd=q(function(e){e.exports=(e=>{if(!it(e))throw new TypeError("First argument needs to be a buffer");for(var t=e.length,n=0;n<t;)if(e[n]<128)n++;else if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}return!0})}),id=q(function(e){try{e.exports=Df("validation")}catch(t){e.exports=rd}}),sd=q(function(e){try{const t=id;e.exports="object"==typeof t?t.Validation.isValidUTF8:t}catch(t){e.exports=(()=>!0)}}),od={isValidErrorCode:function(e){return e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},1e3:"normal",1001:"going away",1002:"protocol error",1003:"unsupported data",1004:"reserved",1005:"reserved for extensions",1006:"reserved for extensions",1007:"inconsistent or invalid data",1008:"policy violation",1009:"message too big",1010:"extension handshake missing",1011:"an unexpected condition prevented the request from being fulfilled",1012:"service restart",1013:"try again later"};const ad=qc.Buffer,hd=0,cd=1,ld=2,ud=3,fd=4,dd=5;class pd{constructor(e,t,n){this.binaryType=n||nd.BINARY_TYPES[0],this.extensions=e||{},this.maxPayload=0|t,this.bufferedBytes=0,this.buffers=[],this.compressed=!1,this.payloadLength=0,this.fragmented=0,this.masked=!1,this.fin=!1,this.mask=null,this.opcode=0,this.totalPayloadLength=0,this.messageLength=0,this.fragments=[],this.cleanupCallback=null,this.hadError=!1,this.dead=!1,this.loop=!1,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,this.state=hd}readBuffer(e){var t,n,r=0;if(this.bufferedBytes-=e,e===this.buffers[0].length)return this.buffers.shift();if(e<this.buffers[0].length)return t=this.buffers[0].slice(0,e),this.buffers[0]=this.buffers[0].slice(e),t;for(t=ad.allocUnsafe(e);e>0;)e>=(n=this.buffers[0].length)?(this.buffers[0].copy(t,r),r+=n,this.buffers.shift()):(this.buffers[0].copy(t,r,0,e),this.buffers[0]=this.buffers[0].slice(e)),e-=n;return t}hasBufferedBytes(e){return this.bufferedBytes>=e||(this.loop=!1,this.dead&&this.cleanup(this.cleanupCallback),!1)}add(e){this.dead||(this.bufferedBytes+=e.length,this.buffers.push(e),this.startLoop())}startLoop(){for(this.loop=!0;this.loop;)switch(this.state){case hd:this.getInfo();break;case cd:this.getPayloadLength16();break;case ld:this.getPayloadLength64();break;case ud:this.getMask();break;case fd:this.getData();break;default:this.loop=!1}}getInfo(){if(!this.hasBufferedBytes(2))return;const e=this.readBuffer(2);if(0!=(48&e[0]))return void this.error(new Error("RSV2 and RSV3 must be clear"),1002);const t=64==(64&e[0]);if(!t||this.extensions[$f.extensionName]){if(this.fin=128==(128&e[0]),this.opcode=15&e[0],this.payloadLength=127&e[1],0===this.opcode){if(t)return void this.error(new Error("RSV1 must be clear"),1002);if(!this.fragmented)return void this.error(new Error(`invalid opcode: ${this.opcode}`),1002);this.opcode=this.fragmented}else if(1===this.opcode||2===this.opcode){if(this.fragmented)return void this.error(new Error(`invalid opcode: ${this.opcode}`),1002);this.compressed=t}else{if(!(this.opcode>7&&this.opcode<11))return void this.error(new Error(`invalid opcode: ${this.opcode}`),1002);if(!this.fin)return void this.error(new Error("FIN must be set"),1002);if(t)return void this.error(new Error("RSV1 must be clear"),1002);if(this.payloadLength>125)return void this.error(new Error("invalid payload length"),1002)}this.fin||this.fragmented||(this.fragmented=this.opcode),this.masked=128==(128&e[1]),126===this.payloadLength?this.state=cd:127===this.payloadLength?this.state=ld:this.haveLength()}else this.error(new Error("RSV1 must be clear"),1002)}getPayloadLength16(){this.hasBufferedBytes(2)&&(this.payloadLength=this.readBuffer(2).readUInt16BE(0,!0),this.haveLength())}getPayloadLength64(){if(!this.hasBufferedBytes(8))return;const e=this.readBuffer(8),t=e.readUInt32BE(0,!0);t>Math.pow(2,21)-1?this.error(new Error("max payload size exceeded"),1009):(this.payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4,!0),this.haveLength())}haveLength(){this.opcode<8&&this.maxPayloadExceeded(this.payloadLength)||(this.masked?this.state=ud:this.state=fd)}getMask(){this.hasBufferedBytes(4)&&(this.mask=this.readBuffer(4),this.state=fd)}getData(){var e=nd.EMPTY_BUFFER;if(this.payloadLength){if(!this.hasBufferedBytes(this.payloadLength))return;e=this.readBuffer(this.payloadLength),this.masked&&jf.unmask(e,this.mask)}this.opcode>7?this.controlMessage(e):this.compressed?(this.state=dd,this.decompress(e)):this.pushFragment(e)&&this.dataMessage()}decompress(e){this.extensions[$f.extensionName].decompress(e,this.fin,(e,t)=>{e?this.error(e,1009===e.closeCode?1009:1007):(this.pushFragment(t)&&this.dataMessage(),this.startLoop())})}dataMessage(){if(this.fin){const t=this.messageLength,n=this.fragments;if(this.totalPayloadLength=0,this.messageLength=0,this.fragmented=0,this.fragments=[],2===this.opcode){var e;e="nodebuffer"===this.binaryType?mo(n,t):"arraybuffer"===this.binaryType?yo(mo(n,t)):n,this.onmessage(e,{masked:this.masked,binary:!0})}else{const e=mo(n,t);if(!sd(e))return void this.error(new Error("invalid utf8 sequence"),1007);this.onmessage(e.toString(),{masked:this.masked})}}this.state=hd}controlMessage(e){if(8===this.opcode){if(0===e.length)this.onclose(1e3,"",{masked:this.masked}),this.loop=!1,this.cleanup(this.cleanupCallback);else if(1===e.length)this.error(new Error("invalid payload length"),1002);else{const t=e.readUInt16BE(0,!0);if(!od.isValidErrorCode(t))return void this.error(new Error(`invalid status code: ${t}`),1002);const n=e.slice(2);if(!sd(n))return void this.error(new Error("invalid utf8 sequence"),1007);this.onclose(t,n.toString(),{masked:this.masked}),this.loop=!1,this.cleanup(this.cleanupCallback)}return}const t={masked:this.masked,binary:!0};9===this.opcode?this.onping(e,t):this.onpong(e,t),this.state=hd}error(e,t){this.onerror(e,t),this.hadError=!0,this.loop=!1,this.cleanup(this.cleanupCallback)}maxPayloadExceeded(e){if(0===e||this.maxPayload<1)return!1;const t=this.totalPayloadLength+e;return t<=this.maxPayload?(this.totalPayloadLength=t,!1):(this.error(new Error("max payload size exceeded"),1009),!0)}pushFragment(e){if(0===e.length)return!0;const t=this.messageLength+e.length;return this.maxPayload<1||t<=this.maxPayload?(this.messageLength=t,this.fragments.push(e),!0):(this.error(new Error("max payload size exceeded"),1009),!1)}cleanup(e){this.dead=!0,this.hadError||!this.loop&&this.state!==dd?(this.extensions=null,this.fragments=null,this.buffers=null,this.mask=null,this.cleanupCallback=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,e&&e()):this.cleanupCallback=e}}var gd=pd;const md=qc.Buffer;class yd{constructor(e,t){this.perMessageDeflate=(t||{})[$f.extensionName],this._socket=e,this.firstFragment=!0,this.compress=!1,this.bufferedBytes=0,this.deflating=!1,this.queue=[],this.onerror=null}static frame(e,t){const n=e.length<1024||t.mask&&t.readOnly;var r=t.mask?6:2,i=e.length;e.length>=65536?(r+=8,i=127):e.length>125&&(r+=2,i=126);const s=md.allocUnsafe(n?e.length+r:r);if(s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),126===i?s.writeUInt16BE(e.length,2,!0):127===i&&(s.writeUInt32BE(0,2,!0),s.writeUInt32BE(e.length,6,!0)),!t.mask)return s[1]=i,n?(e.copy(s,r),[s]):[s,e];const o=Ua.randomBytes(4);return s[1]=128|i,s[r-4]=o[0],s[r-3]=o[1],s[r-2]=o[2],s[r-1]=o[3],n?(jf.mask(e,o,s,r,e.length),[s]):(jf.mask(e,o,e,0,e.length),[s,e])}close(e,t,n,r){if(void 0!==e&&("number"!=typeof e||!od.isValidErrorCode(e)))throw new Error("first argument must be a valid error code number");const i=md.allocUnsafe(2+(t?md.byteLength(t):0));i.writeUInt16BE(e||1e3,0,!0),i.length>2&&i.write(t,2),this.deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(yd.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t){var n=!0;md.isBuffer(e)||(e instanceof ArrayBuffer?e=md.from(e):ArrayBuffer.isView(e)?e=_o(e):(e=md.from(e),n=!1)),this.deflating?this.enqueue([this.doPing,e,t,n]):this.doPing(e,t,n)}doPing(e,t,n){this.sendFrame(yd.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}))}pong(e,t){var n=!0;md.isBuffer(e)||(e instanceof ArrayBuffer?e=md.from(e):ArrayBuffer.isView(e)?e=_o(e):(e=md.from(e),n=!1)),this.deflating?this.enqueue([this.doPong,e,t,n]):this.doPong(e,t,n)}doPong(e,t,n){this.sendFrame(yd.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}))}send(e,t,n){var r=t.binary?2:1,i=t.compress,s=!0;if(md.isBuffer(e)||(e instanceof ArrayBuffer?e=md.from(e):ArrayBuffer.isView(e)?e=_o(e):(e=md.from(e),s=!1)),this.firstFragment?(this.firstFragment=!1,i&&this.perMessageDeflate&&(i=e.length>=this.perMessageDeflate.threshold),this.compress=i):(i=!1,r=0),t.fin&&(this.firstFragment=!0),this.perMessageDeflate){const o={fin:t.fin,rsv1:i,opcode:r,mask:t.mask,readOnly:s};this.deflating?this.enqueue([this.dispatch,e,this.compress,o,n]):this.dispatch(e,this.compress,o,n)}else this.sendFrame(yd.frame(e,{fin:t.fin,rsv1:!1,opcode:r,mask:t.mask,readOnly:s}),n)}dispatch(e,t,n,r){t?(this.deflating=!0,this.perMessageDeflate.compress(e,n.fin,(e,t)=>{e?r?r(e):this.onerror(e):(n.readOnly=!1,this.sendFrame(yd.frame(t,n),r),this.deflating=!1,this.dequeue())})):this.sendFrame(yd.frame(e,n),r)}dequeue(){for(;!this.deflating&&this.queue.length;){const e=this.queue.shift();this.bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this.bufferedBytes+=e[1].length,this.queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.write(e[0]),this._socket.write(e[1],t)):this._socket.write(e[0],t)}}var _d=yd,vd=Vh&&mn||Vh;const bd=[8,13],wd=3e4;class kd extends vd{constructor(e,t,n){super(),t?"string"==typeof t?t=[t]:Array.isArray(t)||(n=t,t=[]):t=[],this.readyState=kd.CONNECTING,this.bytesReceived=0,this.extensions={},this.protocol="",this._binaryType=nd.BINARY_TYPES[0],this._finalize=this.finalize.bind(this),this._finalizeCalled=!1,this._closeMessage=null,this._closeTimer=null,this._closeCode=null,this._receiver=null,this._sender=null,this._socket=null,this._ultron=null,Array.isArray(e)?vo.call(this,e[0],e[1],e[2],n):bo.call(this,e,t,n)}get CONNECTING(){return kd.CONNECTING}get CLOSING(){return kd.CLOSING}get CLOSED(){return kd.CLOSED}get OPEN(){return kd.OPEN}get bufferedAmount(){var e=0;return this._socket&&(e=this._socket.bufferSize+this._sender.bufferedBytes),e}get binaryType(){return this._binaryType}set binaryType(e){nd.BINARY_TYPES.indexOf(e)<0||(this._binaryType=e,this._receiver&&(this._receiver.binaryType=e))}setSocket(e,t){e.setTimeout(0),e.setNoDelay(),this._receiver=new gd(this.extensions,this.maxPayload,this.binaryType),this._sender=new _d(e,this.extensions),this._ultron=new jc(e),this._socket=e,this._ultron.on("close",this._finalize),this._ultron.on("error",this._finalize),this._ultron.on("end",this._finalize),t&&t.length>0&&(e.unshift(t),t=null),this._ultron.on("data",e=>{this.bytesReceived+=e.length,this._receiver.add(e)}),this._receiver.onmessage=((e,t)=>this.emit("message",e,t)),this._receiver.onping=((e,t)=>{this.pong(e,!this._isServer,!0),this.emit("ping",e,t)}),this._receiver.onpong=((e,t)=>this.emit("pong",e,t)),this._receiver.onclose=((e,t)=>{this._closeMessage=t,this._closeCode=e,this.close(e,t)}),this._receiver.onerror=((e,t)=>{this.close(t,""),this.emit("error",e)}),this._sender.onerror=(e=>{this.close(1002,""),this.emit("error",e)}),this.readyState=kd.OPEN,this.emit("open")}finalize(e){this._finalizeCalled||(this.readyState=kd.CLOSING,this._finalizeCalled=!0,clearTimeout(this._closeTimer),this._closeTimer=null,e&&(this._closeCode=1006),this._socket&&(this._ultron.destroy(),this._socket.on("error",function(){this.destroy()}),e?this._socket.destroy():this._socket.end(),this._socket=null,this._ultron=null),this._sender&&(this._sender=this._sender.onerror=null),this._receiver?(this._receiver.cleanup(()=>this.emitClose()),this._receiver=null):this.emitClose())}emitClose(){this.readyState=kd.CLOSED,this.emit("close",this._closeCode||1006,this._closeMessage||""),this.extensions[$f.extensionName]&&this.extensions[$f.extensionName].cleanup(),this.extensions=null,this.removeAllListeners(),this.on("error",nd.NOOP)}pause(){if(this.readyState!==kd.OPEN)throw new Error("not opened");this._socket.pause()}resume(){if(this.readyState!==kd.OPEN)throw new Error("not opened");this._socket.resume()}close(e,t){this.readyState!==kd.CLOSED&&(this.readyState!==kd.CONNECTING?this.readyState!==kd.CLOSING?(this.readyState=kd.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e&&this.emit("error",e),this._socket&&(this._closeCode&&this._socket.end(),clearTimeout(this._closeTimer),this._closeTimer=setTimeout(this._finalize,wd,!0))})):this._closeCode&&this._socket&&this._socket.end():this._req&&!this._req.aborted&&(this._req.abort(),this.emit("error",new Error("closed before the connection is established")),this.finalize(!0)))}ping(e,t,n){if(this.readyState!==kd.OPEN){if(n)return;throw new Error("not opened")}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||nd.EMPTY_BUFFER,t)}pong(e,t,n){if(this.readyState!==kd.OPEN){if(n)return;throw new Error("not opened")}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||nd.EMPTY_BUFFER,t)}send(e,t,n){if("function"==typeof t&&(n=t,t={}),this.readyState!==kd.OPEN){if(!n)throw new Error("not opened");return void n(new Error("not opened"))}"number"==typeof e&&(e=e.toString());const r=Object.assign({binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this.extensions[$f.extensionName]||(r.compress=!1),this._sender.send(e||nd.EMPTY_BUFFER,r,n)}terminate(){this.readyState!==kd.CLOSED&&(this.readyState!==kd.CONNECTING?this.finalize(!0):this._req&&!this._req.aborted&&(this._req.abort(),this.emit("error",new Error("closed before the connection is established")),this.finalize(!0)))}}kd.CONNECTING=0,kd.OPEN=1,kd.CLOSING=2,kd.CLOSED=3,["open","error","close","message"].forEach(e=>{Object.defineProperty(kd.prototype,`on${e}`,{get(){const t=this.listeners(e);for(var n=0;n<t.length;n++)if(t[n]._listener)return t[n]._listener},set(t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]._listener&&this.removeListener(e,n[r]);this.addEventListener(e,t)}})}),kd.prototype.addEventListener=ed.addEventListener,kd.prototype.removeEventListener=ed.removeEventListener;var Ed=kd;const xd=qc.Buffer;class Sd extends vd{constructor(e,t){if(super(),null==(e=Object.assign({maxPayload:104857600,perMessageDeflate:!0,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e)).port&&!e.server&&!e.noServer)throw new TypeError("missing or invalid options");null!=e.port?(this._server=uc.createServer((e,t)=>{const n=uc.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.allowHalfOpen=!1,this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._ultron=new jc(this._server),this._ultron.on("listening",()=>this.emit("listening")),this._ultron.on("error",e=>this.emit("error",e)),this._ultron.on("upgrade",(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit(`connection${e.url}`,t),this.emit("connection",t)})})),e.clientTracking&&(this.clients=new Set),this.options=e,this.path=e.path}close(e){if(this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t&&(this._ultron.destroy(),this._ultron=this._server=null,null!=this.options.port))return t.close(e);e&&e()}shouldHandle(e){return!this.options.path||lc.parse(e.url).pathname===this.options.path}handleUpgrade(e,t,n,r){t.on("error",wo);const i=+e.headers["sec-websocket-version"];if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!e.headers["sec-websocket-key"]||8!==i&&13!==i||!this.shouldHandle(e))return Eo(t,400);var s=(e.headers["sec-websocket-protocol"]||"").split(/, */);if(this.options.handleProtocols){if(!1===(s=this.options.handleProtocols(s,e)))return Eo(t,401)}else s=s[0];if(this.options.verifyClient){const o={origin:e.headers[`${8===i?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(o,(o,a,h)=>{if(!o)return Eo(t,a||401,h);this.completeUpgrade(s,i,e,t,n,r)});if(!this.options.verifyClient(o))return Eo(t,401)}this.completeUpgrade(s,i,e,t,n,r)}completeUpgrade(e,t,n,r,i,s){if(!r.readable||!r.writable)return r.destroy();const o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Ua.createHash("sha1").update(n.headers["sec-websocket-key"]+nd.GUID,"binary").digest("base64")}`];e&&o.push(`Sec-WebSocket-Protocol: ${e}`);const a=td.parse(n.headers["sec-websocket-extensions"]);var h;try{h=ko(this.options,a)}catch(e){return Eo(r,400)}const c=Object.keys(h);if(c.length){const e=c.reduce((e,t)=>(e[t]=[h[t].params],e),{});o.push(`Sec-WebSocket-Extensions: ${td.format(e)}`)}this.emit("headers",o,n),r.write(o.concat("","").join("\r\n"));const l=new Ed([n,r,i],null,{maxPayload:this.options.maxPayload,protocolVersion:t,extensions:h,protocol:e});this.clients&&(this.clients.add(l),l.on("close",()=>this.clients.delete(l))),r.removeListener("error",wo),s(l)}}var Td=Sd;Ed.Server=Td,Ed.Receiver=gd,Ed.Sender=_d;var Rd,Ad=Ed,Cd=ja("engine.io-client:websocket"),Od=Bo.WebSocket||Bo.MozWebSocket;if("undefined"==typeof window)try{Rd=Ad}catch(e){}var Nd=Od;Nd||"undefined"!=typeof window||(Nd=Rd);var Ld=xo;wc(xo,_c),xo.prototype.name="websocket",xo.prototype.supportsBinary=!0,xo.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new Nd(e,t):new Nd(e):new Nd(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},xo.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},xo.prototype.write=function(e){function t(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var r=e.length,i=0,s=r;i<s;i++)!function(e){yc.encodePacket(e,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var s={};e.options&&(s.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof i?Bo.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(s.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,s)}catch(e){Cd("websocket closed before onclose event")}--r||t()})}(e[i])},xo.prototype.onClose=function(){_c.prototype.onClose.call(this)},xo.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},xo.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=Rc()),this.supportsBinary||(e.b64=1),(e=bc.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},xo.prototype.check=function(){return!(!Nd||"__initialize"in Nd&&this.name===xo.prototype.name)};var Pd={polling:function(e){var t=!1,n=!1,r=!1!==e.jsonp;if(Bo.location){var i="https:"===location.protocol,s=location.port;s||(s=i?443:80),t=e.hostname!==location.hostname||s!==e.port,n=e.secure!==i}if(e.xdomain=t,e.xscheme=n,"open"in new dc(e)&&!e.forceJSONP)return new Lc(e);if(!r)throw new Error("JSONP disabled");return new Mc(e)},websocket:Ld},Bd=[].indexOf,Md=function(e,t){if(Bd)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},Id=/^[\],:{}\s]*$/,Dd=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,Ud=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,zd=/(?:^|:|,)(?:\s*\[)+/g,jd=/^\s+/,qd=/\s+$/,Hd=function(e){return"string"==typeof e&&e?(e=e.replace(jd,"").replace(qd,""),Bo.JSON&&JSON.parse?JSON.parse(e):Id.test(e.replace(Dd,"@").replace(Ud,"]").replace(zd,""))?new Function("return "+e)():void 0):null},Fd=ja("engine.io-client:socket"),Zd=So;So.priorWebsocketSuccess=!1,Fa(So.prototype),So.protocol=yc.protocol,So.Socket=So,So.Transport=_c,So.transports=Pd,So.parser=yc,So.prototype.createTransport=function(e){Fd('creating transport "%s"',e);var t=To(this.query);t.EIO=yc.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new Pd[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},So.prototype.open=function(){var e;if(this.rememberUpgrade&&So.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},So.prototype.setTransport=function(e){Fd("setting transport %s",e.name);var t=this;this.transport&&(Fd("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},So.prototype.probe=function(e){function t(){if(l.onlyBinaryUpgrades){var t=!this.supportsBinary&&l.transport.supportsBinary;c=c||t}c||(Fd('probe transport "%s" opened',e),h.send([{type:"ping",data:"probe"}]),h.once("packet",function(t){if(!c)if("pong"===t.type&&"probe"===t.data){if(Fd('probe transport "%s" pong',e),l.upgrading=!0,l.emit("upgrading",h),!h)return;So.priorWebsocketSuccess="websocket"===h.name,Fd('pausing current transport "%s"',l.transport.name),l.transport.pause(function(){c||"closed"!==l.readyState&&(Fd("changing transport and sending upgrade packet"),a(),l.setTransport(h),h.send([{type:"upgrade"}]),l.emit("upgrade",h),h=null,l.upgrading=!1,l.flush())})}else{Fd('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=h.name,l.emit("upgradeError",n)}}))}function n(){c||(c=!0,a(),h.close(),h=null)}function r(t){var r=new Error("probe error: "+t);r.transport=h.name,n(),Fd('probe transport "%s" failed because of error: %s',e,t),l.emit("upgradeError",r)}function i(){r("transport closed")}function s(){r("socket closed")}function o(e){h&&e.name!==h.name&&(Fd('"%s" works - aborting "%s"',e.name,h.name),n())}function a(){h.removeListener("open",t),h.removeListener("error",r),h.removeListener("close",i),l.removeListener("close",s),l.removeListener("upgrading",o)}Fd('probing transport "%s"',e);var h=this.createTransport(e,{probe:1}),c=!1,l=this;So.priorWebsocketSuccess=!1,h.once("open",t),h.once("error",r),h.once("close",i),this.once("close",s),this.once("upgrading",o),h.open()},So.prototype.onOpen=function(){if(Fd("socket open"),this.readyState="open",So.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){Fd("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},So.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Fd('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(Hd(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else Fd('packet received with socket readyState "%s"',this.readyState)},So.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},So.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},So.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){Fd("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},So.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},So.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},So.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Fd("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},So.prototype.write=So.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},So.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},So.prototype.close=function(){function e(){r.onClose("forced close"),Fd("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},So.prototype.onError=function(e){Fd("socket error %j",e),So.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},So.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){Fd('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},So.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~Md(this.transports,e[n])&&t.push(e[n]);return t};var Wd=Zd,Yd=yc;Wd.parser=Yd;var Vd=Wd,Gd=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n},$d=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}},Xd=[].slice,Kd=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Xd.call(arguments,2);return function(){return t.apply(e,n.concat(Xd.call(arguments)))}},Jd=q(function(e,t){function n(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r=ja("socket.io-client:socket");e.exports=n;var i={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},s=Fa.prototype.emit;Fa(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[$d(e,"open",Kd(this,"onopen")),$d(e,"packet",Kd(this,"onpacket")),$d(e,"close",Kd(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},n.prototype.send=function(){var e=Gd(arguments);return e.unshift("message"),this.emit.apply(this,e),this},n.prototype.emit=function(e){if(i.hasOwnProperty(e))return s.apply(this,arguments),this;var t=Gd(arguments),n={type:rh.EVENT,data:t};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(r("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},n.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},n.prototype.onopen=function(){if(r("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?bc.encode(this.query):this.query;r("sending connect packet with query %s",e),this.packet({type:rh.CONNECT,query:e})}else this.packet({type:rh.CONNECT})},n.prototype.onclose=function(e){r("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},n.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case rh.CONNECT:this.onconnect();break;case rh.EVENT:case rh.BINARY_EVENT:this.onevent(e);break;case rh.ACK:case rh.BINARY_ACK:this.onack(e);break;case rh.DISCONNECT:this.ondisconnect();break;case rh.ERROR:this.emit("error",e.data)}},n.prototype.onevent=function(e){var t=e.data||[];r("emitting event %j",t),null!=e.id&&(r("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?s.apply(this,t):this.receiveBuffer.push(t)},n.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=Gd(arguments);r("sending ack %j",i),t.packet({type:rh.ACK,id:e,data:i})}}},n.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(r("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):r("bad ack %s",e.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)s.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){r("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(r("performing disconnect (%s)",this.nsp),this.packet({type:rh.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}}),Qd=Ro;Ro.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Ro.prototype.reset=function(){this.attempts=0},Ro.prototype.setMin=function(e){this.ms=e},Ro.prototype.setMax=function(e){this.max=e},Ro.prototype.setJitter=function(e){this.jitter=e};var ep=ja("socket.io-client:manager"),tp=Object.prototype.hasOwnProperty,np=Ao;Ao.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)tp.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},Ao.prototype.updateSocketIds=function(){for(var e in this.nsps)tp.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},Ao.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},Fa(Ao.prototype),Ao.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},Ao.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},Ao.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},Ao.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},Ao.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},Ao.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},Ao.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Ao.prototype.open=Ao.prototype.connect=function(e,t){if(ep("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;ep("opening %s",this.uri),this.engine=Vd(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=$d(n,"open",function(){r.onopen(),e&&e()}),s=$d(n,"error",function(t){if(ep("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;ep("connect attempt will timeout after %d",o);var a=setTimeout(function(){ep("connect attempt timed out after %d",o),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(s),this},Ao.prototype.onopen=function(){ep("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push($d(e,"data",Kd(this,"ondata"))),this.subs.push($d(e,"ping",Kd(this,"onping"))),this.subs.push($d(e,"pong",Kd(this,"onpong"))),this.subs.push($d(e,"error",Kd(this,"onerror"))),this.subs.push($d(e,"close",Kd(this,"onclose"))),this.subs.push($d(this.decoder,"decoded",Kd(this,"ondecoded")))},Ao.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Ao.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Ao.prototype.ondata=function(e){this.decoder.add(e)},Ao.prototype.ondecoded=function(e){this.emit("packet",e)},Ao.prototype.onerror=function(e){ep("error",e),this.emitAll("error",e)},Ao.prototype.socket=function(e,t){function n(){~Md(i.connecting,r)||i.connecting.push(r)}var r=this.nsps[e];if(!r){r=new Jd(this,e,t),this.nsps[e]=r;var i=this;r.on("connecting",n),r.on("connect",function(){r.id=i.generateId(e)}),this.autoConnect&&n()}return r},Ao.prototype.destroy=function(e){var t=Md(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},Ao.prototype.packet=function(e){ep("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},Ao.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},Ao.prototype.cleanup=function(){ep("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Ao.prototype.close=Ao.prototype.disconnect=function(){ep("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Ao.prototype.onclose=function(e){ep("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},Ao.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)ep("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();ep("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(ep("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(ep("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(ep("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},Ao.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};var rp=q(function(e,t){function n(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s=Ha(e),o=s.source,a=s.id,h=s.path,c=i[a]&&h in i[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||c?(r("ignoring socket cache for %s",o),n=np(o,t)):(i[a]||(r("new io instance for %s",o),i[a]=np(o,t)),n=i[a]),s.query&&!t.query&&(t.query=s.query),n.socket(s.path,t)}var r=ja("socket.io-client");e.exports=t=n;var i=t.managers={};t.protocol=rh.protocol,t.connect=n,t.Manager=np,t.Socket=Jd}),ip=new(q(function(e){!function(t){e.exports?e.exports=t():window.pym=t.call(this)}(function(){var e={},t=function(e){var t=document.createEvent("Event");t.initEvent("pym:"+e,!0,!0),document.dispatchEvent(t)},n=function(e){var t=new RegExp("[\\?&]"+e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},r=function(e,t){if(("*"===t.xdomain||e.origin.match(new RegExp(t.xdomain+"$")))&&"string"==typeof e.data)return!0},i=function(e,t,n){return["pym",e,t,n].join("xPYMx")},s=function(e){var t=["pym",e,"(\\S+)","(.*)"];return new RegExp("^"+t.join("xPYMx")+"$")},o=Date.now||function(){return(new Date).getTime()},a=function(e,t,n){var r,i,s,a=null,h=0;n||(n={});var c=function(){h=!1===n.leading?0:o(),a=null,s=e.apply(r,i),a||(r=i=null)};return function(){var l=o();h||!1!==n.leading||(h=l);var u=t-(l-h);return r=this,i=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),h=l,s=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(c,u)),s}},h=function(){for(var t=e.autoInitInstances.length-1;t>=0;t--){var n=e.autoInitInstances[t];n.el.getElementsByTagName("iframe").length&&n.el.getElementsByTagName("iframe")[0].contentWindow||e.autoInitInstances.splice(t,1)}};return e.autoInitInstances=[],e.autoInit=function(n){var r=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),i=r.length;h();for(var s=0;s<i;++s){var o=r[s];o.setAttribute("data-pym-auto-initialized",""),""===o.id&&(o.id="pym-"+s+"-"+Math.random().toString(36).substr(2,5));var a=o.getAttribute("data-pym-src"),c={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},l={};for(var u in c)if(null!==o.getAttribute("data-pym-"+u))switch(c[u]){case"boolean":l[u]=!("false"===o.getAttribute("data-pym-"+u));break;case"string":l[u]=o.getAttribute("data-pym-"+u);break;case"number":var f=Number(o.getAttribute("data-pym-"+u));isNaN(f)||(l[u]=f);break;default:console.err("unrecognized attribute type")}var d=new e.Parent(o.id,a,l);e.autoInitInstances.push(d)}return n||t("pym-initialized"),e.autoInitInstances},e.Parent=function(e,t,n){this.id=e,this.url=t,this.el=document.getElementById(e),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=s(this.id),this.messageHandlers={},n=n||{},this._constructIframe=function(){var e=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var t="",n=this.url.indexOf("#");for(n>-1&&(t=this.url.substring(n,this.url.length),this.url=this.url.substring(0,n)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+e+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=t,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),void 0!==this.settings.allowfullscreen&&!1!==this.settings.allowfullscreen&&this.iframe.setAttribute("allowfullscreen",""),void 0!==this.settings.sandbox&&"string"==typeof this.settings.sandbox&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(e,t){if(e in this.messageHandlers)for(var n=0;n<this.messageHandlers[e].length;n++)this.messageHandlers[e][n].call(this,t)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),h()},this._processMessage=function(e){if(r(e,this.settings)&&"string"==typeof e.data){var t=e.data.match(this.messageRegex);if(!t||3!==t.length)return!1;var n=t[1],i=t[2];this._fire(n,i)}}.bind(this),this._onHeightMessage=function(e){var t=parseInt(e);this.iframe.setAttribute("height",t+"px")},this._onNavigateToMessage=function(e){document.location.href=e},this._onScrollToChildPosMessage=function(e){var t=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset+parseInt(e);window.scrollTo(0,t)},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this.sendMessage=function(e,t){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(i(this.id,e,t),"*"):this.remove())},this.sendWidth=function(){var e=this.el.offsetWidth.toString();this.sendMessage("width",e)},this.sendViewportAndIFramePosition=function(){var e=this.iframe.getBoundingClientRect(),t=(window.innerWidth||document.documentElement.clientWidth)+" "+(window.innerHeight||document.documentElement.clientHeight);t+=" "+e.top+" "+e.left,t+=" "+e.bottom+" "+e.right,this.sendMessage("viewport-iframe-position",t)};for(var o in n)this.settings[o]=n[o];return this._throttleOnScroll=a(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},e.Child=function(e){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},e=e||{},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this._fire=function(e,t){if(e in this.messageHandlers)for(var n=0;n<this.messageHandlers[e].length;n++)this.messageHandlers[e][n].call(this,t)},this._processMessage=function(e){if(r(e,this.settings)&&"string"==typeof e.data){var t=e.data.match(this.messageRegex);if(t&&3===t.length){var n=t[1],i=t[2];this._fire(n,i)}}}.bind(this),this._onWidthMessage=function(e){var t=parseInt(e);t!==this.parentWidth&&(this.parentWidth=t,this.settings.renderCallback&&this.settings.renderCallback(t),this.sendHeight())},this.sendMessage=function(e,t){window.parent.postMessage(i(this.id,e,t),"*")},this.sendHeight=function(){var e=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",e),e}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(e){this.sendMessage("navigateTo","#"+e)},this.navigateParentTo=function(e){this.sendMessage("navigateTo",e)},this.scrollParentToChildEl=function(e){var t=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(t)},this.scrollParentToChildPos=function(e){this.sendMessage("scrollToChildPos",e.toString())};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var s in e)this.settings[s]=e[s];this.id=n("childId")||e.id,this.messageRegex=new RegExp("^pymxPYMx"+this.id+"xPYMx(\\S+)xPYMx(.*)$");var o=parseInt(n("initialWidth"));return this.parentUrl=n(this.settings.parenturlparam),this.parentTitle=n("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(o),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),function(e){var n,r=document.getElementsByTagName("html")[0],i=r.className;try{n=window.self!==window.top?"embedded":"not-embedded"}catch(e){n="embedded"}i.indexOf(n)<0&&(r.className=i?i+" "+n:n,e&&e(n),t("marked-embedded"))}(e.onMarkedEmbeddedStatus),this},"undefined"!=typeof document&&e.autoInit(!0),e})}).Child)({renderCallback:function(){console.log("pym!")},polling:500});ip.sendHeight();var sp={newData:!1,hasConnection:!1,colors:{Grassroots:"#81c784",Independent:"#fff176",Labor:"#e57373",Liberals:"#42a5f5","Mod Libs":"#4fc3f7",NLS:"#a1887f",SLS:"#ffb74d","Socialist Alternative":"#9575cd",Solidarity:"#f06292",Unity:"#7986cb",Mint:"#71d39d",Heat:"#ff4c3f",Blank:"#eeeeee"},results:{blog:[{heading:"Loading",meta:"Right damn now",body:"<p>Loading</p>",published:"1",important:""}],copy:[{title:"default",displayresults:"0"}],council:[{faction:"surprise"}],honi:[{},{},{},{},{},{},{},{},{mint:"1",heat:"1"},{mint:"1",heat:"1"},{mint:"1",heat:"1"},{mint:"1234",heat:"2345"}],nus:[],pres:[{},{},{},{},{},{},{},{},{},{},{pytka:"1",pytkapercent:"0.5",grant:"1",grantpercent:"0.5",ma:"1",maapercent:"0.5",informal:"1",informalpercent:"0.5"}]}};window.app=new z({target:document.body,data:sp}),window.app.on("sendTheHeight",function(e){ip.sendHeight()}),rp("nus-natcon-2017.herokuapp.com").on("data",function(e){window.app.set({hasConnection:!0}),window.app.set({results:e}),window.app.set({newData:!0}),console.log(e)})}();
//# sourceMappingURL=bundle.js.map
