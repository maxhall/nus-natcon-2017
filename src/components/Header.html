<header>
  <h1>NUS Natcon Live</h1>
  {{#if '1'===indicateLive}}
    <div class="live-indicator">
      <span class="live-dot"></span>
      <span class="live-time">Live</span>
    </div>
  {{/if}}
  <div class="standfirst">{{{headerStandfirst}}}</div>
</header>

<style>
  header {
    display: block;
    margin: 1rem auto;
    width: 100%;
  }

  @media (min-width: 500px) {
    header {
      width: 40%;
    }
  }

  @media (min-width: 900px) {
    header {
      width: 30%;
    }
  }

  .header-logo {
    display: block;
    width: 100%;
    margin: 0 0 1rem;
    transition: all 1s ease;
    fill: rgba(51, 51, 51, 1);
  }

  .live-indicator {
    display: table;
    position: relative;
    margin: 0 auto 1rem;
  }

  .live-time {
    color: red;
    text-transform: uppercase;
    margin: 0 auto 1rem;
    padding-left: 1rem;
  }

  .live-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      position: absolute;
      top: 4px;
      left: 0;
      animation: pulse 2s infinite;
      animation-timing-function: ease;
  }

  @keyframes pulse {
    0% {
      background-color: rgba(255, 50, 50, 1);
    }
    50% {
      background-color: rgba(255, 50, 50, 0);
    }
    100% {
      background-color: rgba(255, 50, 50, 1);
    }
  }
</style>

<script>
  export default {
    oncreate () {
      this.observe('newData', (newData) => {
        if (newData) {
          const masthead = this.refs.masthead;
          masthead.style.fill = 'rgba(255, 50, 50, 1)';
          setTimeout(() => {
            masthead.style.fill = 'rgba(51, 51, 51, 1)';
          }, 1500);
          this.set({'newData': false})
        }
      })
    },
  }
</script>
